(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,401564,e=>{"use strict";var t=e.i(247167);let a={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},NATIVE_IMAGE_IDS_BY_NAMESPACE:{eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"3e8119e5-2a6f-4818-c50c-1937011d5900",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},TOKEN_SYMBOLS_BY_ADDRESS:{"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48":"USDC","0x833589fcd6edb6e08f4c7c32d4f71b54bda02913":"USDC","0x0b2c639c533813f4aa9d7837caf62653d097ff85":"USDC","0xaf88d065e77c8cc2239327c5edb3a432268e5831":"USDC","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359":"USDC","0x2791bca1f2de4661ed88a30c99a7a9449aa84174":"USDC",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"USDC","0xdac17f958d2ee523a2206206994597c13d831ec7":"USDT","0x94b008aa00579c1307b0ef2c499ad98a8ce58e58":"USDT","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9":"USDT","0xc2132d05d31c914a87c6611c10748aeb04b58e8f":"USDT",Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:"USDT"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}},HEADLESS_NOT_ENABLED:{DEFAULT:{displayMessage:"",debugMessage:"Headless support is not enabled. Please enable it with the features.headless option in the AppKit configuration and make sure your current plan supports it."}}},IS_DEVELOPMENT:void 0!==t.default&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"],METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH"};e.s(["ConstantsUtil",0,a])},360334,56774,e=>{"use strict";var t=e.i(247167),a=e.i(401564);let r={ConnectorExplorerIds:{[a.ConstantsUtil.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[a.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[a.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[a.ConstantsUtil.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[a.ConstantsUtil.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[a.ConstantsUtil.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[a.ConstantsUtil.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[a.ConstantsUtil.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[a.ConstantsUtil.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[a.ConstantsUtil.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[a.ConstantsUtil.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[a.ConstantsUtil.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[a.ConstantsUtil.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[a.ConstantsUtil.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[a.ConstantsUtil.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[a.ConstantsUtil.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[a.ConstantsUtil.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[a.ConstantsUtil.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[a.ConstantsUtil.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",0xaa36a7:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",0x4e454152:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[a.ConstantsUtil.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[a.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[a.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[a.ConstantsUtil.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[a.ConstantsUtil.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[a.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[a.ConstantsUtil.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[a.ConstantsUtil.CONNECTOR_ID.INJECTED]:"Browser Wallet",[a.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[a.ConstantsUtil.CONNECTOR_ID.COINBASE]:"Coinbase",[a.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[a.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[a.ConstantsUtil.CONNECTOR_ID.LEDGER]:"Ledger",[a.ConstantsUtil.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[a.ConstantsUtil.CONNECTOR_ID.INJECTED]:"INJECTED",[a.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[a.ConstantsUtil.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[a.ConstantsUtil.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,0xaa36a7,10,420,42161,421613,137,80001,42220,0x4e454152,0x4e454153,56,97,43114,43113,100,8453,84531,7777777,999,324,280]};e.s(["PresetsUtil",0,r],56774);let n=(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",o={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:n,SECURE_SITE_DASHBOARD:`${n}/dashboard`,SECURE_SITE_FAVICON:`${n}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USDâ‚®0"]},BALANCE_SUPPORTED_CHAINS:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[a.ConstantsUtil.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.TON],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1,headless:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1,headless:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0},MANDATORY_WALLET_IDS_ON_MOBILE:[r.ConnectorExplorerIds[a.ConstantsUtil.CONNECTOR_ID.COINBASE],r.ConnectorExplorerIds[a.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK],r.ConnectorExplorerIds[a.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT],r.ConnectorExplorerIds[a.ConstantsUtil.SOLFLARE_CONNECTOR_NAME],r.ConnectorExplorerIds[a.ConstantsUtil.PHANTOM_CONNECTOR_NAME],r.ConnectorExplorerIds[a.ConstantsUtil.BINANCE_CONNECTOR_NAME]],DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]};e.s(["ConstantsUtil",0,o,"MELD_PUBLIC_KEY",0,"WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU","ONRAMP_PROVIDERS",0,[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}]],360334)},376527,e=>{"use strict";function t(e){if(!e)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}function a(){return"u">typeof window&&"u">typeof localStorage}e.s(["SafeLocalStorage",0,{setItem(e,t){a()&&void 0!==t&&localStorage.setItem(e,t)},getItem(e){if(a())return localStorage.getItem(e)||void 0},removeItem(e){a()&&localStorage.removeItem(e)},clear(){a()&&localStorage.clear()}},"SafeLocalStorageKeys",0,{WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"},"getSafeConnectorIdKey",()=>t,"isSafe",()=>a])},227302,758331,e=>{"use strict";var t=e.i(401564),a=e.i(360334),r=e.i(376527);let n={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired:(e,t)=>Date.now()-e>t,getActiveNetworkProps(){let e=n.getActiveNamespace(),t=n.getActiveCaipNetworkId(),a=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:a?isNaN(Number(a))?a:Number(a):void 0}},setWalletConnectDeepLink({name:e,href:t}){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID,e),n.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{let t=(0,r.getSafeConnectorIdKey)(e);r.SafeLocalStorage.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{let t=n.getRecentWallets();t.find(t=>t.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.RECENT_WALLETS,JSON.stringify(t)),r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{let a=(0,r.getSafeConnectorIdKey)(e);r.SafeLocalStorage.setItem(a,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{let t=(0,r.getSafeConnectorIdKey)(e);return r.SafeLocalStorage.getItem(t)}catch(t){console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);return e?.split(":")?.[1]},setConnectionStatus(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTED_NAMESPACES);if(!e?.length)return[];return e.split(",")}catch{return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{let t=n.getConnectedNamespaces();t.includes(e)||(t.push(e),n.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{let t=n.getConnectedNamespaces(),a=t.indexOf(e);a>-1&&(t.splice(a,1),n.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{let t=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{let t=n.getBalanceCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{let t=n.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;n.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{let t=n.getBalanceCache();t[e.caipAddress]=e,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{let t=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{let t=n.getBalanceCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{let t=n.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),n.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{let t=n.getNativeBalanceCache();t[e.caipAddress]=e,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{let t=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{let t=n.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;n.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{let t=n.getEnsCache();t[e.address]=e,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{let t=n.getEnsCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{let t=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{let t=n.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;n.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{let t=n.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{let t=n.getIdentityCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},getTonWalletsCache(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.TON_WALLETS_CACHE),t=e?JSON.parse(e):void 0;if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tonWallets))return t;n.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(e){try{let t=n.getTonWalletsCache()||{timestamp:0,wallets:[]};t.timestamp=new Date().getTime(),t.wallets=e,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.TON_WALLETS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ton wallets cache",e)}},removeTonWalletsCache(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.PORTFOLIO_CACHE),r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE),r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.ENS_CACHE),r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.IDENTITY_CACHE),r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);if(!e)return{};return JSON.parse(e)}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,a){try{let o=n.getConnections(),s=o[a]??[],i=new Map;for(let e of s)i.set(e.connectorId,{...e});for(let a of e){let e=i.get(a.connectorId),r=a.connectorId===t.ConstantsUtil.CONNECTOR_ID.AUTH;if(e&&!r){let t=new Set(e.accounts.map(e=>e.address.toLowerCase())),r=a.accounts.filter(e=>!t.has(e.address.toLowerCase()));e.accounts.push(...r)}else i.set(a.connectorId,{...a})}let c={...o,[a]:Array.from(i.values())};r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify(c))}catch(e){console.error("Unable to sync connections to storage",e)}},getConnections(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTIONS);if(!e)return{};return JSON.parse(e)}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:a}){try{let o=n.getConnections(),s=o[a]??[],i=new Map(s.map(e=>[e.connectorId,e])),c=i.get(e);if(c){let a=c.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase());0===a.length?i.delete(e):i.set(e,{...c,accounts:c.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase())})}r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify({...o,[a]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${a}"`)}},getDisconnectedConnectorIds(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);if(!e)return{};return JSON.parse(e)}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{let a=n.getDisconnectedConnectorIds(),o=a[t]??[];o.push(e),r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...a,[t]:Array.from(new Set(o))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{let a=n.getDisconnectedConnectorIds(),o=a[t]??[];o=o.filter(t=>t.toLowerCase()!==e.toLowerCase()),r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...a,[t]:Array.from(new Set(o))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(n.getDisconnectedConnectorIds()[t]??[]).some(t=>t.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{let a=n.getTransactionsCache(),r=a[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;n.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:a,transactions:o}){try{let s=n.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:a,transactions:o}},r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:a,transactions:o})}},removeTransactionsCache({address:e,chainId:t}){try{let a=n.getTransactionsCache(),{[t]:o,...s}=a?.[e]||{};r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...a,[e]:s}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{let t=n.getTokenPriceCache()[e.join(",")];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tokenPrice))return t.tokenPrice;n.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{let t=n.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{let t=n.getTokenPriceCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{let e=this.getLatestAppKitVersionCache(),t=e?.version;if(t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion))return t}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{let t=n.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}};e.s(["StorageUtil",0,n],758331);let o={getWindow(){if("u">typeof window)return window},isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(e,t="")=>e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return o.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return!!this.isClient()&&(window?.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>"u">typeof window,isPairingExpired:e=>!e||e-Date.now()<=a.ConstantsUtil.TEN_SEC_MS,isAllowedRetry:(e,t=a.ConstantsUtil.ONE_SEC_MS)=>Date.now()-e>=t,copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch(e){return!1}},isSafeApp(){if(o.isClient()&&window.self!==window.top)try{let e=window?.location?.ancestorOrigins?.[0];if(e){let t=new URL(e),a=new URL("https://app.safe.global");return t.hostname===a.hostname}}catch{}return!1},getPairingExpiry:()=>Date.now()+a.ConstantsUtil.FOUR_MINUTES_MS,getNetworkId:e=>e?.split(":")[1],getPlainAddress:e=>e?.split(":")[2],wait:async e=>new Promise(t=>{setTimeout(t,e)}),debounce(e,t=500){let a;return(...r)=>{a&&clearTimeout(a),a=setTimeout(function(){e(...r)},t)}},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),formatNativeUrl(e,t,a=null){if(o.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,n=a;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),n&&!n?.endsWith("/")&&(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let s=encodeURIComponent(t);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:n?`${n}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(e,t){if(!o.isHttpUrl(e))return this.formatNativeUrl(e,t);let a=e;a.endsWith("/")||(a=`${a}/`);let r=encodeURIComponent(t);return{redirect:`${a}wc?uri=${r}`,href:a}},getOpenTargetForPlatform(e){return"popupWindow"===e?e:this.isTelegram()?n.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,a){window?.open(e,this.getOpenTargetForPlatform(t),a||"noreferrer noopener")},returnOpenHref(e,t,a){return window?.open(e,this.getOpenTargetForPlatform(t),a||"noreferrer noopener")},isTelegram:()=>"u">typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),isPWA(){if("u"<typeof window)return!1;let e=!!window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(display-mode: standalone)")?.matches,t=window?.navigator?.standalone;return!!(e||t)},preloadImage:async e=>Promise.race([new Promise((t,a)=>{let r=new Image;r.onload=t,r.onerror=a,r.crossOrigin="anonymous",r.src=e}),o.wait(2e3)]),parseBalance(e,t){let a="0.000";if("string"==typeof e){let t=Number(e);if(!isNaN(t)){let e=(Math.floor(1e3*t)/1e3).toFixed(3);e&&(a=e)}}let[r,n]=a.split("."),o=r||"0",s=n||"000";return{formattedText:`${o}.${s}${t?` ${t}`:""}`,value:o,decimals:s,symbol:t}},getApiUrl:()=>t.ConstantsUtil.W3M_API_URL,getBlockchainApiUrl:()=>t.ConstantsUtil.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>t.ConstantsUtil.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),parseError:e=>"string"==typeof e?e:"string"==typeof e?.issues?.[0]?.message?e.issues[0].message:e instanceof Error?e.message:"Unknown error",sortRequestedNetworks(e,t=[]){let a={};return t&&e&&(e.forEach((e,t)=>{a[e]=t}),t.sort((e,t)=>{let r=a[e.id],n=a[t.id];return void 0!==r&&void 0!==n?r-n:void 0!==r?-1:1*(void 0!==n)})),t},calculateBalance(e){let t=0;for(let a of e)t+=a.value??0;return t},formatTokenBalance(e){let[t,a]=e.toFixed(2).split(".");return{dollars:t,pennies:a}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);case"bip122":{let t=/^[1][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(e),a=/^[3][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(e),r=/^bc1[a-z0-9]{39,87}$/u.test(e),n=/^bc1p[a-z0-9]{58}$/u.test(e);return t||a||r||n}default:return!1}},uniqueBy(e,t){let a=new Set;return e.filter(e=>{let r=e[t];return!a.has(r)&&(a.add(r),!0)})},generateSdkVersion(e,t,r){let n=0===e.length?a.ConstantsUtil.ADAPTER_TYPES.UNIVERSAL:e.map(e=>e.adapterType).join(",");return`${t}-${n}-${r}`},createAccount:(e,t,a,r,n)=>({namespace:e,address:t,type:a,publicKey:r,path:n}),isCaipAddress(e){if("string"!=typeof e)return!1;let a=e.split(":"),r=a[0];return 3===a.filter(Boolean).length&&r in t.ConstantsUtil.CHAIN_NAME_MAP},getAccount:e=>e?"string"==typeof e?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0},isMac(){let e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){let t=`--${encodeURIComponent(window?.location.href)}`,a="state=";if("auth.magic.link"===new URL(e).host){let r="provider_authorization_url=",n=e.substring(e.indexOf(r)+r.length),o=this.injectIntoUrl(decodeURIComponent(n),a,t);return e.replace(n,encodeURIComponent(o))}return this.injectIntoUrl(e,a,t)},injectIntoUrl(e,t,a){let r=e.indexOf(t);if(-1===r)throw Error(`${t} parameter not found in the URL: ${e}`);let n=e.indexOf("&",r),o=t.length,s=-1!==n?n:e.length;return e.substring(0,r+o)+(e.substring(r+o,s)+a)+e.substring(n)},isNumber:e=>("number"==typeof e||"string"==typeof e)&&!isNaN(Number(e)),appendPayToUri:(e,t)=>t?`${e}&pay=${encodeURIComponent(t)}`:e};e.s(["CoreHelperUtil",0,o],227302)},90068,e=>{"use strict";function t(e,t){let a=e?.["--apkt-accent"]??e?.["--w3m-accent"];return"light"===t?{"--w3m-accent":a||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":a||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}e.s(["getW3mThemeVariables",()=>t])},365801,344169,e=>{"use strict";let t=Symbol(),a=Symbol(),r=Object.getPrototypeOf,n=new WeakMap,o=e=>e&&(n.has(e)?n.get(e):r(e)===Object.prototype||r(e)===Array.prototype),s=e=>"object"==typeof e&&null!==e,i=e=>e[a]||e,c=(e,n,s,l)=>{if(!o(e))return e;let d=l&&l.get(e);if(!d){let t=i(e);d=Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable)?[t,(e=>{if(Array.isArray(e))return Array.from(e);let t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(e=>{e.configurable=!0}),Object.create(r(e),t)})(t)]:[t],null==l||l.set(e,d)}let[C,p]=d,E=s&&s.get(C);if(!E||!!p!==E[1].f){var u;let e,r,n,o;e={f:u=!!p},r=!1,n=(t,a)=>{if(!r){let r=e.a.get(C);if(r||(r={},e.a.set(C,r)),"w"===t)r.w=!0;else{let e=r[t];e||(e=new Set,r[t]=e),e.add(a)}}},o={get:(t,r)=>r===a?C:(n("k",r),c(Reflect.get(t,r),e.a,e.c,e.t)),has:(a,o)=>o===t?(r=!0,e.a.delete(C),!0):(n("h",o),Reflect.has(a,o)),getOwnPropertyDescriptor:(e,t)=>(n("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(n("w"),Reflect.ownKeys(e))},u&&(o.set=o.deleteProperty=()=>!1),(E=[o,e])[1].p=new Proxy(p||C,E[0]),s&&s.set(C,E)}return E[1].a=n,E[1].c=s,E[1].t=l,E[1].p},l=(e,t,a,r,n=Object.is)=>{if(n(e,t))return!1;if(!s(e)||!s(t))return!0;let o=a.get(i(e));if(!o)return!0;if(r){if(r.get(e)===t)return!1;r.set(e,t)}let c=null;for(let a of o.h||[])if(c=Reflect.has(e,a)!==Reflect.has(t,a))return c;if(!0===o.w){let a,r;if(a=Reflect.ownKeys(e),r=Reflect.ownKeys(t),c=a.length!==r.length||a.some((e,t)=>e!==r[t]))return c}else for(let a of o.o||[]){let r=!!Reflect.getOwnPropertyDescriptor(e,a);if(c=!!Reflect.getOwnPropertyDescriptor(t,a)!==r)return c}for(let s of o.k||[])if(c=l(e[s],t[s],a,r,n))return c;if(null===c)throw Error("invalid used");return c},d=e=>o(e)&&e[a]||null,C=(e,t=!0)=>{n.set(e,t)};e.s(["affectedToPathList",0,(e,t,a)=>{let r=[],n=new WeakSet,o=(e,c)=>{var l,d,C;if(n.has(e))return;s(e)&&n.add(e);let p=s(e)&&t.get(i(e));if(p){if(null==(l=p.h)||l.forEach(e=>{let t=`:has(${String(e)})`;r.push(c?[...c,t]:[t])}),!0===p.w){let e=":ownKeys";r.push(c?[...c,e]:[e])}else null==(d=p.o)||d.forEach(e=>{let t=`:hasOwn(${String(e)})`;r.push(c?[...c,t]:[t])});null==(C=p.k)||C.forEach(t=>{(!a||"value"in(Object.getOwnPropertyDescriptor(e,t)||{}))&&o(e[t],c?[...c,t]:[t])})}else c&&r.push(c)};return o(e),r},"createProxy",0,c,"getUntracked",0,d,"isChanged",0,l,"markToTrack",0,C],344169);let p={get url(){return`file://${e.P("node_modules/valtio/esm/vanilla.mjs")}`}},E=e=>"object"==typeof e&&null!==e,u=(e,t)=>{let a=f.get(e);if((null==a?void 0:a[0])===t)return a[1];let r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return C(r,!0),f.set(e,[t,r]),Reflect.ownKeys(e).forEach(t=>{if(Object.getOwnPropertyDescriptor(r,t))return;let a=Reflect.get(e,t),{enumerable:n}=Reflect.getOwnPropertyDescriptor(e,t),o={value:a,enumerable:n,configurable:!0};if(m.has(a))C(a,!1);else if(h.has(a)){let[e,t]=h.get(a);o.value=u(e,t())}Object.defineProperty(r,t,o)}),Object.preventExtensions(r)},h=new WeakMap,m=new WeakSet,f=new WeakMap,A=[1],S=new WeakMap,N=Object.is;function g(e,t,a){let r,n=h.get(e);(p.env?p.env.MODE:void 0)==="production"||n||console.warn("Please use proxy object");let o=[],s=n[2],i=!1,c=s(e=>{(o.push(e),a)?t(o.splice(0)):r||(r=Promise.resolve().then(()=>{r=void 0,i&&t(o.splice(0))}))});return i=!0,()=>{i=!1,c()}}function _(e){let t=h.get(e);(p.env?p.env.MODE:void 0)==="production"||t||console.warn("Please use proxy object");let[a,r]=t;return u(a,r())}function w(e){return m.add(e),e}function T(){return{proxyStateMap:h,refSet:m,snapCache:f,versionHolder:A,proxyCache:S}}e.s(["proxy",()=>function e(t={}){let a,r,n;if(!E(t))throw Error("object required");let o=S.get(t);if(o)return o;let s=A[0],i=new Set,c=(e,t=++A[0])=>{s!==t&&(l=s=t,i.forEach(a=>a(e,t)))},l=s,C=e=>(t,a)=>{let r=[...t];r[1]=[e,...r[1]],c(r,a)},u=new Map,f=!0,g=new Proxy(t,(a=()=>f,r=(e,t)=>{let a=!m.has(t)&&h.get(t);if(a){if((p.env?p.env.MODE:void 0)!=="production"&&u.has(e))throw Error("prop listener already exists");if(i.size){let t=a[2](C(e));u.set(e,[a,t])}else u.set(e,[a])}},n=e=>{var t;let a=u.get(e);a&&(u.delete(e),null==(t=a[1])||t.call(a))},{deleteProperty(e,t){let a=Reflect.get(e,t);n(t);let r=Reflect.deleteProperty(e,t);return r&&c(["delete",[t],a]),r},set(t,o,s,i){let l,C=!a()&&Reflect.has(t,o),p=Reflect.get(t,o,i);if(C&&(N(p,s)||S.has(s)&&N(p,S.get(s))))return!0;n(o),E(s)&&(s=d(s)||s);let u=!h.has(s)&&E(l=s)&&!m.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer)&&!(l instanceof Promise)?e(s):s;return r(o,u),Reflect.set(t,o,u,i),c(["set",[o],s,p]),!0}}));S.set(t,g);let _=[t,(e=A[0])=>(l!==e&&(l=e,u.forEach(([t])=>{let a=t[1](e);a>s&&(s=a)})),s),e=>(i.add(e),1===i.size&&u.forEach(([e,t],a)=>{if((p.env?p.env.MODE:void 0)!=="production"&&t)throw Error("remove already exists");let r=e[2](C(a));u.set(a,[e,r])}),()=>{i.delete(e),0===i.size&&u.forEach(([e,t],a)=>{t&&(t(),u.set(a,[e]))})})];return h.set(g,_),Reflect.ownKeys(t).forEach(e=>{let a=Object.getOwnPropertyDescriptor(t,e);"value"in a&&a.writable&&(g[e]=t[e])}),f=!1,g},"ref",()=>w,"snapshot",()=>_,"subscribe",()=>g,"unstable_getInternalStates",()=>T],365801)},742710,e=>{"use strict";var t=e.i(365801);function a(e,a,r,n){let o=e[a];return(0,t.subscribe)(e,()=>{let t=e[a];Object.is(o,t)||r(o=t)},n)}Symbol();let{proxyStateMap:r,snapCache:n}=(0,t.unstable_getInternalStates)();function o(e){let a=[],o=0,s=new Map,i=new WeakMap,c=e=>i.get(e)||s;if(e){if("function"!=typeof e[Symbol.iterator])throw TypeError("proxyMap:\n	initial state must be iterable\n		tip: structure should be [[key, value]]");for(let[t,r]of e)s.set(t,o),a[o++]=r}let l={data:a,index:o,epoch:0,get size(){return r.has(this)||(()=>{let e=n.get(l),t=null==e?void 0:e[1];if(t&&!i.has(t)){let e=new Map(s);i.set(t,e)}})(),c(this).size},get(e){let t=c(this).get(e);return void 0===t?void this.epoch:this.data[t]},has(e){let t=c(this);return this.epoch,t.has(e)},set(e,t){if(!r.has(this))throw Error("Cannot perform mutations on a snapshot");let a=s.get(e);return void 0===a?(s.set(e,this.index),this.data[this.index++]=t):this.data[a]=t,this.epoch++,this},delete(e){if(!r.has(this))throw Error("Cannot perform mutations on a snapshot");let t=s.get(e);return void 0!==t&&(delete this.data[t],s.delete(e),this.epoch++,!0)},clear(){if(!r.has(this))throw Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,s.clear()},forEach(e){this.epoch,c(this).forEach((t,a)=>{e(this.data[t],a,this)})},*entries(){for(let[e,t]of(this.epoch,c(this)))yield[e,this.data[t]]},*keys(){for(let e of(this.epoch,c(this).keys()))yield e},*values(){for(let e of(this.epoch,c(this).values()))yield this.data[e]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},d=(0,t.proxy)(l);return Object.defineProperties(d,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(d),d}let{proxyStateMap:s,snapCache:i}=(0,t.unstable_getInternalStates)();e.s(["proxyMap",()=>o,"subscribeKey",()=>a])},364258,e=>{"use strict";async function t(...e){let a=await fetch(...e);if(!a.ok)throw Error(`HTTP status code: ${a.status}`,{cause:a});return a}class a{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:a,cache:r,...n}){let o=this.createUrl(n);return(await t(o,{method:"GET",headers:e,signal:a,cache:r})).json()}async getBlob({headers:e,signal:a,...r}){let n=this.createUrl(r);return(await t(n,{method:"GET",headers:e,signal:a})).blob()}async post({body:e,headers:a,signal:r,...n}){let o=this.createUrl(n);return(await t(o,{method:"POST",headers:a,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:a,signal:r,...n}){let o=this.createUrl(n);return(await t(o,{method:"PUT",headers:a,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:a,signal:r,...n}){let o=this.createUrl(n);return(await t(o,{method:"DELETE",headers:a,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:t}){let a=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach(([e,t])=>{t&&a.searchParams.append(e,t)}),this.clientId&&a.searchParams.append("clientId",this.clientId),a}sendBeacon({body:e,...t}){let a=this.createUrl(t);return navigator.sendBeacon(a.toString(),e?JSON.stringify(e):void 0)}}e.s(["FetchUtil",()=>a])},82283,693597,e=>{"use strict";e.s(["OptionsController",()=>i],82283);var t=e.i(365801),a=e.i(742710),r=e.i(360334),n=e.i(227302);e.s(["OptionsUtil",()=>o],693597);let o={getFeatureValue(e,t){let a=t?.[e];return void 0===a?r.ConstantsUtil.DEFAULT_FEATURES[e]:a},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return n.CoreHelperUtil.isTelegram()&&(n.CoreHelperUtil.isIos()&&(t=t.filter(e=>"google"!==e)),n.CoreHelperUtil.isMac()&&(t=t.filter(e=>"x"!==e)),n.CoreHelperUtil.isAndroid()&&(t=t.filter(e=>!["facebook","x"].includes(e)))),n.CoreHelperUtil.isMobile()&&(t=t.filter(e=>"facebook"!==e)),t},isSocialsEnabled:()=>Array.isArray(i.state.features?.socials)&&i.state.features?.socials.length>0||Array.isArray(i.state.remoteFeatures?.socials)&&i.state.remoteFeatures?.socials.length>0,isEmailEnabled:()=>!!(i.state.features?.email||i.state.remoteFeatures?.email)},s=(0,t.proxy)({features:r.ConstantsUtil.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:r.ConstantsUtil.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),i={state:s,subscribeKey:(e,t)=>(0,a.subscribeKey)(s,e,t),setOptions(e){Object.assign(s,e)},setRemoteFeatures(e){if(!e)return;let t={...s.remoteFeatures,...e};s.remoteFeatures=t,s.remoteFeatures?.socials&&(s.remoteFeatures.socials=o.filterSocialsByPlatform(s.remoteFeatures.socials)),s.features?.pay&&(s.remoteFeatures.email=!1,s.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;s.features||(s.features=r.ConstantsUtil.DEFAULT_FEATURES);let t={...s.features,...e};s.features=t,s.features?.pay&&s.remoteFeatures&&(s.remoteFeatures.email=!1,s.remoteFeatures.socials=!1)},setProjectId(e){s.projectId=e},setCustomRpcUrls(e){s.customRpcUrls=e},setAllWallets(e){s.allWallets=e},setIncludeWalletIds(e){s.includeWalletIds=e},setExcludeWalletIds(e){s.excludeWalletIds=e},setFeaturedWalletIds(e){s.featuredWalletIds=e},setTokens(e){s.tokens=e},setTermsConditionsUrl(e){s.termsConditionsUrl=e},setPrivacyPolicyUrl(e){s.privacyPolicyUrl=e},setCustomWallets(e){s.customWallets=e},setIsSiweEnabled(e){s.isSiweEnabled=e},setIsUniversalProvider(e){s.isUniversalProvider=e},setSdkVersion(e){s.sdkVersion=e},setMetadata(e){s.metadata=e},setDisableAppend(e){s.disableAppend=e},setEIP6963Enabled(e){s.enableEIP6963=e},setDebug(e){s.debug=e},setEnableWalletGuide(e){s.enableWalletGuide=e},setEnableAuthLogger(e){s.enableAuthLogger=e},setEnableWallets(e){s.enableWallets=e},setPreferUniversalLinks(e){s.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[t,a]of Object.entries(r.ConstantsUtil.SIWX_DEFAULTS))e[t]??=a;s.siwx=e},setConnectMethodsOrder(e){s.features={...s.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){s.features={...s.features,walletFeaturesOrder:e}},setSocialsOrder(e){s.remoteFeatures={...s.remoteFeatures,socials:e}},setCollapseWallets(e){s.features={...s.features,collapseWallets:e}},setEnableEmbedded(e){s.enableEmbedded=e},setAllowUnsupportedChain(e){s.allowUnsupportedChain=e},setManualWCControl(e){s.manualWCControl=e},setEnableNetworkSwitch(e){s.enableNetworkSwitch=e},setEnableMobileFullScreen(e){s.enableMobileFullScreen=n.CoreHelperUtil.isMobile()&&e},setEnableReconnect(e){s.enableReconnect=e},setCoinbasePreference(e){s.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([e,t])=>{t&&(s.defaultAccountTypes[e]=t)})},setUniversalProviderConfigOverride(e){s.universalProviderConfigOverride=e},getUniversalProviderConfigOverride:()=>s.universalProviderConfigOverride,getSnapshot:()=>(0,t.snapshot)(s)}},592279,e=>{"use strict";var t=e.i(365801),a=e.i(742710),r=e.i(227302),n=e.i(364258),o=e.i(82283);let s=Object.freeze({enabled:!0,events:[]}),i=new n.FetchUtil({baseUrl:r.CoreHelperUtil.getAnalyticsUrl(),clientId:null}),c=(0,t.proxy)({...s}),l={state:c,subscribeKey:(e,t)=>(0,a.subscribeKey)(c,e,t),async sendError(e,t){if(!c.enabled)return;let a=Date.now();if(c.events.filter(e=>a-new Date(e.properties.timestamp||"").getTime()<6e4).length>=5)return;let n={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};c.events.push(n);try{if("u"<typeof window)return;let{projectId:a,sdkType:n,sdkVersion:s}=o.OptionsController.state;await i.post({path:"/e",params:{projectId:a,st:n,sv:s||"html-wagmi-4.2.2"},body:{eventId:r.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){c.enabled=!0},disable(){c.enabled=!1},clearEvents(){c.events=[]}};class d extends Error{constructor(e,t,a){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=t,this.originalError=a,a&&a instanceof Error&&(this.originalName=a.name),Object.setPrototypeOf(this,d.prototype);let r=!1;if(a instanceof Error&&"string"==typeof a.stack&&a.stack){const e=a.stack,t=e.indexOf("\n");if(t>-1){const a=e.substring(t+1);this.stack=`${this.name}: ${this.message}
${a}`,r=!0}}!r&&(Error.captureStackTrace?Error.captureStackTrace(this,d):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function C(e,t){let a="";try{a=e instanceof Error?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e?0===Object.keys(e).length?"Unknown error":e?.message||JSON.stringify(e):String(e)}catch(e){a="Unknown error",console.error("Error parsing error message",e)}let r=e instanceof d?e:new d(a,t,e);throw l.sendError(r,r.category),r}function p(e,t="INTERNAL_SDK_ERROR"){let a={};return Object.keys(e).forEach(r=>{let n=e[r];if("function"==typeof n){let e=n;e="AsyncFunction"===n.constructor.name?async(...e)=>{try{return await n(...e)}catch(e){return C(e,t)}}:(...e)=>{try{return n(...e)}catch(e){return C(e,t)}},a[r]=e}else a[r]=n}),a}e.s(["AppKitError",()=>d,"withErrorBoundary",()=>p],592279)},241845,e=>{"use strict";var t=e.i(365801),a=e.i(742710),r=e.i(592279);let n=(0,t.proxy)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),o=(0,r.withErrorBoundary)({state:n,subscribeNetworkImages:e=>(0,t.subscribe)(n.networkImages,()=>e(n.networkImages)),subscribeKey:(e,t)=>(0,a.subscribeKey)(n,e,t),subscribe:e=>(0,t.subscribe)(n,()=>e(n)),setWalletImage(e,t){n.walletImages[e]=t},setNetworkImage(e,t){n.networkImages[e]=t},setChainImage(e,t){n.chainImages[e]=t},setConnectorImage(e,t){n.connectorImages={...n.connectorImages,[e]:t}},setTokenImage(e,t){n.tokenImages[e]=t},setCurrencyImage(e,t){n.currencyImages[e]=t}});e.s(["AssetController",0,o])},436220,e=>{"use strict";e.s(["AssetUtil",()=>c]);var t=e.i(365801),a=e.i(401564),r=e.i(886259),n=e.i(241845),o=e.i(82283);let s={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},i=(0,t.proxy)({networkImagePromises:{},tokenImagePromises:{}}),c={async fetchWalletImage(e){if(e)return await r.ApiController._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;let t=this.getNetworkImageById(e);return t||(i.networkImagePromises[e]||(i.networkImagePromises[e]=r.ApiController._fetchNetworkImage(e)),await i.networkImagePromises[e],this.getNetworkImageById(e))},async fetchTokenImage(e){if(e)return i.tokenImagePromises[e]||(i.tokenImagePromises[e]=r.ApiController._fetchTokenImage(e)),await i.tokenImagePromises[e],this.getTokenImage(e)},getWalletImageById(e){if(e)return n.AssetController.state.walletImages[e]},getWalletImage:e=>e?.image_url?e?.image_url:e?.image_id?n.AssetController.state.walletImages[e.image_id]:void 0,getNetworkImage:e=>e?.assets?.imageUrl?e?.assets?.imageUrl:e?.assets?.imageId?n.AssetController.state.networkImages[e.assets.imageId]:void 0,getNetworkImageById(e){if(e)return n.AssetController.state.networkImages[e]},getConnectorImage:e=>e?.imageUrl?e.imageUrl:e?.info?.icon?e.info.icon:e?.imageId?n.AssetController.state.connectorImages[e.imageId]:void 0,getChainImage:e=>n.AssetController.state.networkImages[s[e]],getTokenImage(e){if(e)return n.AssetController.state.tokenImages[e]},getWalletImageUrl(e){if(!e)return"";let{projectId:t,sdkType:r,sdkVersion:n}=o.OptionsController.state,s=new URL(`${a.ConstantsUtil.W3M_API_URL}/getWalletImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",r),s.searchParams.set("sv",n),s.toString()},getAssetImageUrl(e){if(!e)return"";let{projectId:t,sdkType:r,sdkVersion:n}=o.OptionsController.state,s=new URL(`${a.ConstantsUtil.W3M_API_URL}/public/getAssetImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",r),s.searchParams.set("sv",n),s.toString()},getChainNamespaceImageUrl(e){return this.getAssetImageUrl(s[e])},async getImageByToken(e,t){if("native"===e){let e=a.ConstantsUtil.NATIVE_IMAGE_IDS_BY_NAMESPACE[t]??null;if(!e)return;return c.fetchNetworkImage(e)}let[,r]=Object.entries(a.ConstantsUtil.TOKEN_SYMBOLS_BY_ADDRESS).find(([t])=>t.toLowerCase()===e.toLowerCase())??[];if(r)return c.fetchTokenImage(r)}}},681285,e=>{"use strict";var t=e.i(401564);e.s(["AVAILABLE_NAMESPACES",0,["eip155","solana","polkadot","bip122","cosmos","sui","stacks"],"NetworkUtil",0,{caipNetworkIdToNumber:e=>e?Number(e.split(":")[1]):void 0,parseEvmChainId(e){return"string"==typeof e?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace:(e,t)=>e?.filter(e=>e.chainNamespace===t)||[],getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,a){if(!a)return;let r=e.find(e=>e.caipNetworkId===a);if(r)return r.name;let[n]=a.split(":");return t.ConstantsUtil.CHAIN_NAME_MAP?.[n]||void 0}}])},150576,e=>{"use strict";e.s(["ParseUtil",0,{validateCaipAddress(e){if(e.split(":")?.length!==3)throw Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(3!==t.length)throw Error(`Invalid CAIP-10 address: ${e}`);let[a,r,n]=t;if(!a||!r||!n)throw Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:a,chainId:r,address:n}},parseCaipNetworkId(e){let t=e.split(":");if(2!==t.length)throw Error(`Invalid CAIP-2 network id: ${e}`);let[a,r]=t;if(!a||!r)throw Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:a,chainId:r}}}])},979484,e=>{"use strict";var t=e.i(247167);let a=(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||"https://secure.walletconnect.org/sdk",r=(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",n=(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4";e.s(["DEFAULT_LOG_LEVEL",0,r,"SECURE_SITE_SDK",0,a,"SECURE_SITE_SDK_VERSION",0,n,"W3mFrameConstants",0,{APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},"W3mFrameRpcConstants",0,{SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}])},824652,810923,e=>{"use strict";e.s(["W3mFrameStorage",()=>o],824652);var t=e.i(979484);e.s(["W3mFrameHelpers",()=>n],810923);let a=/^0x(?:[A-Fa-f0-9]{64})$/u,r=/^0x(?:[a-fA-F0-9]{62,})$/u,n={checkIfAllowedToTriggerEmail(){let e=o.get(t.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<3e4){let e=Math.ceil((3e4-t)/1e3);throw Error(`Please try again after ${e} seconds`)}}},getTimeToNextEmailLogin(){let e=o.get(t.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<3e4)return Math.ceil((3e4-t)/1e3)}return 0},checkIfRequestExists:e=>t.W3mFrameRpcConstants.NOT_SAFE_RPC_METHODS.includes(e.method)||t.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(e.method),getResponseType:e=>"string"==typeof e&&(e?.match(a)||e?.match(r))?t.W3mFrameConstants.RPC_RESPONSE_TYPE_TX:t.W3mFrameConstants.RPC_RESPONSE_TYPE_OBJECT,checkIfRequestIsSafe:e=>t.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(e.method),isClient:"u">typeof window},o={set(e,a){n.isClient&&localStorage.setItem(`${t.W3mFrameConstants.STORAGE_KEY}${e}`,a)},get:e=>n.isClient?localStorage.getItem(`${t.W3mFrameConstants.STORAGE_KEY}${e}`):null,delete(e,a){n.isClient&&(a?localStorage.removeItem(e):localStorage.removeItem(`${t.W3mFrameConstants.STORAGE_KEY}${e}`))}}},24742,811424,e=>{"use strict";e.s(["BlockchainApiController",()=>h],24742);var t=e.i(365801),a=e.i(360334),r=e.i(227302),n=e.i(364258),o=e.i(758331),s=e.i(960398),i=e.i(82283),c=e.i(742710);let l=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),d=(0,t.proxy)({...l}),C={state:d,subscribeKey:(e,t)=>(0,c.subscribeKey)(d,e,t),showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=r.CoreHelperUtil.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){d.message=l.message,d.variant=l.variant,d.svg=l.svg,d.open=l.open,d.autoClose=l.autoClose},_showMessage({message:e,svg:t,variant:a="success",autoClose:r=l.autoClose}){d.open?(d.open=!1,setTimeout(()=>{d.message=e,d.variant=a,d.svg=t,d.open=!0,d.autoClose=r},150)):(d.message=e,d.variant=a,d.svg=t,d.open=!0,d.autoClose=r)}};e.s(["SnackController",0,C],811424);let p={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},E=r.CoreHelperUtil.getBlockchainApiUrl(),u=(0,t.proxy)({clientId:null,api:new n.FetchUtil({baseUrl:E,clientId:null}),supportedChains:{http:[],ws:[]}}),h={state:u,async get(e){let{st:t,sv:a}=h.getSdkProperties(),r=i.OptionsController.state.projectId,n={...e.params||{},st:t,sv:a,projectId:r};return u.api.get({...e,params:n})},getSdkProperties(){let{sdkType:e,sdkVersion:t}=i.OptionsController.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{u.supportedChains.http.length||await h.getSupportedNetworks()}catch(e){return!1}return u.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await h.get({path:"v1/supported-chains"});return u.supportedChains=e,e}catch{return u.supportedChains}},async fetchIdentity({address:e}){let t=o.StorageUtil.getIdentityFromCacheForAddress(e);if(t)return t;let a=await h.get({path:`/v1/identity/${e}`,params:{sender:s.ChainController.state.activeCaipAddress?r.CoreHelperUtil.getPlainAddress(s.ChainController.state.activeCaipAddress):void 0}});return o.StorageUtil.updateIdentityCache({address:e,identity:a,timestamp:Date.now()}),a},async fetchTransactions({account:e,cursor:t,signal:a,cache:r,chainId:n}){if(!await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let i=o.StorageUtil.getTransactionsCacheForAddress({address:e,chainId:n});if(i)return i;let c=await h.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:n},signal:a,cache:r});return o.StorageUtil.updateTransactionsCache({address:e,chainId:n,timestamp:Date.now(),transactions:c}),c},fetchSwapQuote:async({amount:e,userAddress:t,from:a,to:r,gasPrice:n})=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?h.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:a,to:r,gasPrice:n}}):{quotes:[]},fetchSwapTokens:async({chainId:e})=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?h.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]},getAddressBalance:async({caipNetworkId:e,address:t})=>u.api.post({path:`/v1?chainId=${e}&projectId=${i.OptionsController.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:t}}}).then(e=>e.result),async fetchTokenPrice({addresses:e,caipNetworkId:t=s.ChainController.state.activeCaipNetwork?.caipNetworkId}){if(!await h.isNetworkSupported(t))return{fungibles:[]};let a=o.StorageUtil.getTokenPriceCacheForAddresses(e);if(a)return a;let r=await u.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:i.OptionsController.state.projectId},headers:{"Content-Type":"application/json"}});return o.StorageUtil.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},fetchSwapAllowance:async({tokenAddress:e,userAddress:t})=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?h.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId:e}){let{st:t,sv:a}=h.getSdkProperties();if(!await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Gas Price");return h.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:a}})},async generateSwapCalldata({amount:e,from:t,to:r,userAddress:n,disableEstimate:o}){if(!await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return u.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:a.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE},projectId:i.OptionsController.state.projectId,from:t,to:r,userAddress:n,disableEstimate:o}})},async generateApproveCalldata({from:e,to:t,userAddress:a}){let{st:r,sv:n}=h.getSdkProperties();if(!await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return h.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:a,from:e,to:t,st:r,sv:n}})},async getBalance(e,t,a){let{st:r,sv:n}=h.getSdkProperties();if(!await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId))return C.showError("Token Balance Unavailable"),{balances:[]};let i=`${t}:${e}`,c=o.StorageUtil.getBalanceCacheForCaipAddress(i);if(c)return c;let l=await h.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:a,st:r,sv:n}});return o.StorageUtil.updateBalanceCache({caipAddress:i,balance:l,timestamp:Date.now()}),l},lookupEnsName:async e=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?h.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},async reverseLookupEnsName({address:e}){if(!await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId))return[];let t=s.ChainController.getAccountData()?.address;return h.get({path:`/v1/profile/reverse/${e}`,params:{sender:t,apiVersion:"2"}})},getEnsNameSuggestions:async e=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?h.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType:e,address:t,message:a,signature:r})=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?u.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:a,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1},generateOnRampURL:async({destinationWallets:e,partnerUserId:t,defaultNetwork:a,purchaseAmount:r,paymentAmount:n})=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?(await u.api.post({path:"/v1/generators/onrampurl",params:{projectId:i.OptionsController.state.projectId},body:{destinationWallets:e,defaultNetwork:a,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:n}})).url:"",async getOnrampOptions(){if(!await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await h.get({path:"/v1/onramp/options"})}catch(e){return p}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:a,network:r}){try{if(!await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId))return null;return await u.api.post({path:"/v1/onramp/quote",params:{projectId:i.OptionsController.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:a,network:r}})}catch(e){return{networkFee:{amount:a,currency:t.id},paymentSubtotal:{amount:a,currency:t.id},paymentTotal:{amount:a,currency:t.id},purchaseAmount:{amount:a,currency:t.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async e=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?h.get({path:`/v1/sessions/${e}`}):[],revokeSmartSession:async(e,t,a)=>await h.isNetworkSupported(s.ChainController.state.activeCaipNetwork?.caipNetworkId)?u.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:i.OptionsController.state.projectId},body:{pci:t,signature:a}}):{success:!1},setClientId(e){u.clientId=e,u.api=new n.FetchUtil({baseUrl:E,clientId:e})}}},564126,e=>{"use strict";e.s(["getActiveCaipNetwork",()=>s,"getActiveNetworkTokenAddress",()=>r,"getNativeTokenAddress",()=>n,"getPreferredAccountType",()=>o]);var t=e.i(960398),a=e.i(360334);function r(){let e=t.ChainController.state.activeCaipNetwork?.chainNamespace||"eip155",r=t.ChainController.state.activeCaipNetwork?.id||1,n=a.ConstantsUtil.NATIVE_TOKEN_ADDRESS[e];return`${e}:${r}:${n}`}function n(e){return a.ConstantsUtil.NATIVE_TOKEN_ADDRESS[e]}function o(e){return t.ChainController.getAccountData(e)?.preferredAccountType}function s(e){return e?t.ChainController.state.chains.get(e)?.networkState?.caipNetwork:t.ChainController.state.activeCaipNetwork}},358892,e=>{"use strict";e.s(["HelpersUtil",0,{isLowerCaseMatch:(e,t)=>e?.toLowerCase()===t?.toLowerCase()}])},770850,197730,e=>{"use strict";e.s(["ConnectorUtil",()=>E],770850);var t=e.i(401564),a=e.i(358892),r=e.i(886259),n=e.i(960398),o=e.i(971080),s=e.i(149454),i=e.i(82283),c=e.i(227302),l=e.i(693597),d=e.i(758331);e.s(["WalletUtil",()=>p],197730);var C=e.i(360334);let p={filterOutDuplicatesByRDNS(e){let t=i.OptionsController.state.enableEIP6963?s.ConnectorController.state.connectors:[],a=d.StorageUtil.getRecentWallets(),r=t.map(e=>e.info?.rdns).filter(Boolean),n=a.map(e=>e.rdns).filter(Boolean),o=r.concat(n);if(o.includes("io.metamask.mobile")&&c.CoreHelperUtil.isMobile()){let e=o.indexOf("io.metamask.mobile");o[e]="io.metamask"}return e.filter(e=>!(e?.rdns&&o.includes(String(e.rdns))||!e?.rdns&&t.some(t=>t.name===e.name))&&!0)},filterOutDuplicatesByIds(e){let t=s.ConnectorController.state.connectors.filter(e=>"ANNOUNCED"===e.type||"INJECTED"===e.type||"MULTI_CHAIN"===e.type),a=d.StorageUtil.getRecentWallets(),r=t.map(e=>e.explorerId||e.explorerWallet?.id||e.id),n=a.map(e=>e.id),o=r.concat(n);return e.filter(e=>!o.includes(e?.id))},filterOutDuplicateWallets(e){let t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){let{connectors:t}=s.ConnectorController.state,{featuredWalletIds:a}=i.OptionsController.state,r=t.filter(e=>"ANNOUNCED"===e.type).reduce((e,t)=>(t.info?.rdns&&(e[t.info.rdns]=!0),e),{});return e.map(e=>({...e,installed:!!e.rdns&&!!r[e.rdns??""]})).sort((e,t)=>{let r=Number(t.installed)-Number(e.installed);if(0!==r)return r;if(a?.length){let r=a.indexOf(e.id),n=a.indexOf(t.id);if(-1!==r&&-1!==n)return r-n;if(-1!==r)return -1;if(-1!==n)return 1}return 0})},getConnectOrderMethod(e,t){let a=e?.connectMethodsOrder||i.OptionsController.state.features?.connectMethodsOrder,n=t||s.ConnectorController.state.connectors;if(a)return a;let{injected:o,announced:c}=E.getConnectorsByType(n,r.ApiController.state.recommended,r.ApiController.state.featured),l=o.filter(E.showConnector),d=c.filter(E.showConnector);return l.length||d.length?["wallet","email","social"]:C.ConstantsUtil.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){let t=!!e.rdns&&r.ApiController.state.excludedWallets.some(t=>t.rdns===e.rdns),n=!!e.name&&r.ApiController.state.excludedWallets.some(t=>a.HelpersUtil.isLowerCaseMatch(t.name,e.name));return t||n},markWalletsWithDisplayIndex:e=>e.map((e,t)=>({...e,display_index:t})),filterWalletsByWcSupport:e=>o.ConnectionController.state.wcBasic?e.filter(e=>e.supports_wc):c.CoreHelperUtil.isMobile()?e.filter(e=>e.supports_wc||C.ConstantsUtil.MANDATORY_WALLET_IDS_ON_MOBILE.includes(e.id)):e,getWalletConnectWallets(e){let t=[...r.ApiController.state.featured,...r.ApiController.state.recommended];r.ApiController.state.filteredWallets?.length>0?t.push(...r.ApiController.state.filteredWallets):t.push(...e);let a=c.CoreHelperUtil.uniqueBy(t,"id"),n=p.markWalletsAsInstalled(a),o=p.filterWalletsByWcSupport(n);return p.markWalletsWithDisplayIndex(o)}},E={getConnectorsByType(e,t,a){let{customWallets:r}=i.OptionsController.state,n=d.StorageUtil.getRecentWallets(),o=p.filterOutDuplicateWallets(t),s=p.filterOutDuplicateWallets(a),c=e.filter(e=>"MULTI_CHAIN"===e.type),l=e.filter(e=>"ANNOUNCED"===e.type),C=e.filter(e=>"INJECTED"===e.type);return{custom:r,recent:n,external:e.filter(e=>"EXTERNAL"===e.type),multiChain:c,announced:l,injected:C,recommended:o,featured:s}},showConnector(e){let t=e.info?.rdns,n=!!t&&r.ApiController.state.excludedWallets.some(e=>!!e.rdns&&e.rdns===t),s=!!e.name&&r.ApiController.state.excludedWallets.some(t=>a.HelpersUtil.isLowerCaseMatch(t.name,e.name));if("INJECTED"===e.type&&("Browser Wallet"===e.name&&(!c.CoreHelperUtil.isMobile()||c.CoreHelperUtil.isMobile()&&!t&&!o.ConnectionController.checkInstalled())||n||s))return!1;return"ANNOUNCED"!==e.type&&"EXTERNAL"!==e.type||!n&&!s},getIsConnectedWithWC:()=>Array.from(n.ChainController.state.chains.values()).some(e=>s.ConnectorController.getConnectorId(e.namespace)===t.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT),getConnectorTypeOrder({recommended:e,featured:t,custom:a,recent:r,announced:n,injected:o,multiChain:s,external:c,overriddenConnectors:l=i.OptionsController.state.features?.connectorTypeOrder??[]}){let d=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...o,...n,...s].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:a&&a.length>0},{type:"external",isEnabled:c.length>0},{type:"recommended",isEnabled:e.length>0}].filter(e=>e.isEnabled),C=new Set(d.map(e=>e.type)),p=l.filter(e=>C.has(e)).map(e=>({type:e,isEnabled:!0})),E=d.filter(({type:e})=>!p.some(({type:t})=>t===e));return Array.from(new Set([...p,...E].map(({type:e})=>e)))},sortConnectorsByExplorerWallet:e=>[...e].sort((e,t)=>e.explorerWallet&&t.explorerWallet?(e.explorerWallet.order??0)-(t.explorerWallet.order??0):e.explorerWallet?-1:+!!t.explorerWallet),getPriority:e=>e.id===t.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT?0:e.id===t.ConstantsUtil.CONNECTOR_ID.COINBASE||e.id===t.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK?1:2,sortConnectorsByPriority:e=>[...e].sort((e,t)=>E.getPriority(e)-E.getPriority(t)),getAuthName:({email:e,socialUsername:t,socialProvider:a})=>t?a&&"discord"===a&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e,async fetchProviderData(e){try{if("Browser Wallet"===e.name&&!c.CoreHelperUtil.isMobile()||e.id===t.ConstantsUtil.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};let[a,r]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(e=>Number(e))]);return{accounts:a,chainId:r}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(e){let t=d.StorageUtil.getRecentWallets(),a=s.ConnectorController.state.connectors.map(e=>e.info?.rdns).filter(Boolean),r=t.map(e=>e.rdns).filter(Boolean),n=a.concat(r);if(n.includes("io.metamask.mobile")&&c.CoreHelperUtil.isMobile()){let e=n.indexOf("io.metamask.mobile");n[e]="io.metamask"}return e.filter(e=>!n.includes(String(e?.rdns)))},hasWalletConnector:e=>s.ConnectorController.state.connectors.some(t=>t.id===e.id||t.name===e.name),isWalletCompatibleWithCurrentChain(e){let t=n.ChainController.state.activeChain;return!t||!e.chains||e.chains.some(e=>t===e.split(":")[0])},getFilteredRecentWallets(){return d.StorageUtil.getRecentWallets().filter(e=>!p.isExcluded(e)).filter(e=>!this.hasWalletConnector(e)).filter(e=>this.isWalletCompatibleWithCurrentChain(e))},getCappedRecommendedWallets(e){let{connectors:t}=s.ConnectorController.state,{customWallets:a,featuredWalletIds:r}=i.OptionsController.state,n=t.find(e=>"walletConnect"===e.id),o=t.filter(e=>"INJECTED"===e.type||"ANNOUNCED"===e.type||"MULTI_CHAIN"===e.type);if(!n&&!o.length&&!a?.length)return[];let c=l.OptionsUtil.isEmailEnabled(),d=l.OptionsUtil.isSocialsEnabled(),C=o.filter(e=>"Browser Wallet"!==e.name&&"WalletConnect"!==e.name),E=Math.max(0,4-((r?.length||0)+(a?.length||0)+(C.length||0)+ +!!c+ +!!d));return E<=0?[]:p.filterOutDuplicateWallets(e).slice(0,E)},processConnectorsByType(e,t=!0){let a=E.sortConnectorsByExplorerWallet([...e]);return t?a.filter(E.showConnector):a},connectorList(){let e=E.getConnectorsByType(s.ConnectorController.state.connectors,r.ApiController.state.recommended,r.ApiController.state.featured),a=this.processConnectorsByType(e.announced.filter(e=>"walletConnect"!==e.id)),n=this.processConnectorsByType(e.injected),o=this.processConnectorsByType(e.multiChain.filter(e=>"WalletConnect"!==e.name),!1),i=e.custom,l=e.recent,d=this.processConnectorsByType(e.external.filter(e=>e.id!==t.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK&&e.id!==t.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT)),C=e.recommended,p=e.featured,u=E.getConnectorTypeOrder({custom:i,recent:l,announced:a,injected:n,multiChain:o,recommended:C,featured:p,external:d}),h=s.ConnectorController.state.connectors.find(e=>"walletConnect"===e.id),m=c.CoreHelperUtil.isMobile(),f=[];for(let e of u)switch(e){case"walletConnect":!m&&h&&f.push({kind:"connector",subtype:"walletConnect",connector:h});break;case"recent":E.getFilteredRecentWallets().forEach(e=>f.push({kind:"wallet",subtype:"recent",wallet:e}));break;case"injected":o.forEach(e=>f.push({kind:"connector",subtype:"multiChain",connector:e})),a.forEach(e=>f.push({kind:"connector",subtype:"announced",connector:e})),n.forEach(e=>f.push({kind:"connector",subtype:"injected",connector:e}));break;case"featured":p.forEach(e=>f.push({kind:"wallet",subtype:"featured",wallet:e}));break;case"custom":E.getFilteredCustomWallets(i??[]).forEach(e=>f.push({kind:"wallet",subtype:"custom",wallet:e}));break;case"external":d.forEach(e=>f.push({kind:"connector",subtype:"external",connector:e}));break;case"recommended":E.getCappedRecommendedWallets(C).forEach(e=>f.push({kind:"wallet",subtype:"recommended",wallet:e}));break;default:console.warn(`Unknown connector type: ${e}`)}return f},hasInjectedConnectors:()=>s.ConnectorController.state.connectors.filter(e=>("INJECTED"===e.type||"ANNOUNCED"===e.type||"MULTI_CHAIN"===e.type)&&"Browser Wallet"!==e.name&&"WalletConnect"!==e.name).length}},221728,e=>{"use strict";e.s(["RouterController",()=>C]);var t=e.i(365801),a=e.i(742710),r=e.i(592279),n=e.i(886259),o=e.i(960398),s=e.i(149454),i=e.i(803468),c=e.i(82283);let l=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],d=(0,t.proxy)({view:"Connect",history:["Connect"],transactionStack:[]}),C=(0,r.withErrorBoundary)({state:d,subscribeKey:(e,t)=>(0,a.subscribeKey)(d,e,t),pushTransactionStack(e){d.transactionStack.push(e)},popTransactionStack(e){let t=d.transactionStack.pop();if(!t)return;let{onSuccess:a,onError:r,onCancel:n}=t;switch(e){case"success":a?.();break;case"error":r?.(),C.goBack();break;case"cancel":n?.(),C.goBack()}},push(e,t){let a=e,r=t;n.ApiController.state.plan.hasExceededUsageLimit&&l.includes(e)&&(a="UsageExceeded",r=void 0),a!==d.view&&(d.view=a,d.history.push(a),d.data=r)},reset(e,t){d.view=e,d.history=[e],d.data=t},replace(e,t){d.history.at(-1)!==e&&(d.view=e,d.history[d.history.length-1]=e,d.data=t)},goBack(){let e=o.ChainController.state.activeCaipAddress,a="ConnectingFarcaster"===C.state.view,r=!e&&a;if(d.history.length>1){d.history.pop();let[t]=d.history.slice(-1);t&&(e&&"Connect"===t?d.view="Account":d.view=t)}else i.ModalController.close();d.data?.wallet&&(d.data.wallet=void 0),d.data?.redirectView&&(d.data.redirectView=void 0),setTimeout(()=>{if(r){o.ChainController.setAccountProp("farcasterUrl",void 0,o.ChainController.state.activeChain);let e=s.ConnectorController.getAuthConnector();e?.provider?.reload();let a=(0,t.snapshot)(c.OptionsController.state);e?.provider?.syncDappData?.({metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType})}},100)},goBackToIndex(e){if(d.history.length>1){d.history=d.history.slice(0,e+1);let[t]=d.history.slice(-1);t&&(d.view=t)}},goBackOrCloseModal(){C.state.history.length>1?C.goBack():i.ModalController.close()}})},798852,e=>{"use strict";e.s(["NetworkUtil",()=>o]);var t=e.i(401564),a=e.i(960398),r=e.i(149454),n=e.i(221728);let o={onSwitchNetwork({network:e,ignoreSwitchConfirmation:o=!1}){let s=a.ChainController.state.activeCaipNetwork,i=a.ChainController.state.activeChain,c=n.RouterController.state.data;if(e.id===s?.id)return;let l=!!a.ChainController.getAccountData(i)?.address,d=!!a.ChainController.getAccountData(e.chainNamespace)?.address,C=e.chainNamespace!==i,p=r.ConnectorController.getConnectorId(i)===t.ConstantsUtil.CONNECTOR_ID.AUTH,E=t.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>t===e.chainNamespace);o||p&&E?n.RouterController.push("SwitchNetwork",{...c,network:e}):l&&C&&!d?n.RouterController.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):n.RouterController.push("SwitchNetwork",{...c,network:e})}}},653157,e=>{"use strict";e.s(["EventsController",()=>d]);var t=e.i(365801),a=e.i(227302),r=e.i(364258),n=e.i(960398),o=e.i(82283);let s=a.CoreHelperUtil.getAnalyticsUrl(),i=new r.FetchUtil({baseUrl:s,clientId:null}),c=["MODAL_CREATED"],l=(0,t.proxy)({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),d={state:l,subscribe:e=>(0,t.subscribe)(l,()=>e(l)),getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:a}=o.OptionsController.state;return{projectId:e,st:t,sv:a||"html-wagmi-4.2.2"}},shouldFlushEvents(){let e=JSON.stringify(l.pendingEvents).length/1024>45,t=l.lastFlush+1e4<Date.now();return e||t},_setPendingEvent(e){try{let t=n.ChainController.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),c.includes(e.data.event)||"u"<typeof window)return;let r=n.ChainController.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:a.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:r}}}),l.reportedErrors.FORBIDDEN=!1,d.shouldFlushEvents()&&d._submitPendingEvents()}catch(e){console.warn("_setPendingEvent",e)}},sendEvent(e){l.timestamp=Date.now(),l.data=e,(o.OptionsController.state.features?.analytics||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(e.event))&&d._setPendingEvent(l),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){l.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(e=>{let t=e.props.event;return"WALLET_IMPRESSION_V2"!==t})}catch{return e}},_submitPendingEvents(){if(l.lastFlush=Date.now(),0!==l.pendingEvents.length||0!==l.walletImpressions.length)try{let e=d._transformPendingEventsForBatch(l.pendingEvents);l.walletImpressions.length&&e.push({eventId:a.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...l.walletImpressions]}}),i.sendBeacon({path:"/batch",params:d.getSdkProperties(),body:e}),l.reportedErrors.FORBIDDEN=!1,l.pendingEvents=[],l.walletImpressions=[]}catch(e){l.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){l.subscribedToVisibilityChange||"u">typeof document&&(l.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{"hidden"===document.visibilityState&&d._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{d._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{d._submitPendingEvents()}),setInterval(()=>{d._submitPendingEvents()},1e4))}}},77277,e=>{"use strict";var t=e.i(365801),a=e.i(742710);let r=(0,t.proxy)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0});e.s(["PublicStateController",0,{state:r,subscribe:e=>(0,t.subscribe)(r,()=>e(r)),subscribeOpen:e=>(0,a.subscribeKey)(r,"open",e),set(e){Object.assign(r,{...r,...e})}}])},803468,e=>{"use strict";e.s(["ModalController",()=>h]);var t=e.i(365801),a=e.i(742710),r=e.i(227302),n=e.i(798852),o=e.i(592279),s=e.i(886259),i=e.i(960398),c=e.i(971080),l=e.i(149454),d=e.i(653157),C=e.i(82283),p=e.i(77277),E=e.i(221728);let u=(0,t.proxy)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),h=(0,o.withErrorBoundary)({state:u,subscribe:e=>(0,t.subscribe)(u,()=>e(u)),subscribeKey:(e,t)=>(0,a.subscribeKey)(u,e,t),async open(e){let t=e?.namespace,a=i.ChainController.state.activeChain,o=t&&t!==a,m=i.ChainController.getAccountData(e?.namespace)?.caipAddress,f=i.ChainController.state.noAdapters;if(c.ConnectionController.state.wcBasic?s.ApiController.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await s.ApiController.prefetch(),l.ConnectorController.setFilterByNamespace(e?.namespace),h.setLoading(!0,t),t&&o){let e=i.ChainController.getNetworkData(t)?.caipNetwork||i.ChainController.getRequestedCaipNetworks(t)[0];e&&(f?(await i.ChainController.switchActiveNetwork(e),E.RouterController.push("ConnectingWalletConnectBasic")):n.NetworkUtil.onSwitchNetwork({network:e,ignoreSwitchConfirmation:!0}))}else C.OptionsController.state.manualWCControl||f&&!m?r.CoreHelperUtil.isMobile()?E.RouterController.reset("AllWallets"):E.RouterController.reset("ConnectingWalletConnectBasic"):e?.view?E.RouterController.reset(e.view,e.data):m?E.RouterController.reset("Account"):E.RouterController.reset("Connect");u.open=!0,p.PublicStateController.set({open:!0}),d.EventsController.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!m}})},close(){let e=C.OptionsController.state.enableEmbedded,t=!!i.ChainController.state.activeCaipAddress;u.open&&d.EventsController.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),u.open=!1,E.RouterController.reset("Connect"),h.clearLoading(),e?t?E.RouterController.replace("Account"):E.RouterController.push("Connect"):p.PublicStateController.set({open:!1}),c.ConnectionController.resetUri()},setLoading(e,t){t&&u.loadingNamespaceMap.set(t,e),u.loading=e,p.PublicStateController.set({loading:e})},clearLoading(){u.loadingNamespaceMap.clear(),u.loading=!1,p.PublicStateController.set({loading:!1})},shake(){u.shake||(u.shake=!0,setTimeout(()=>{u.shake=!1},500))}})},149454,639403,e=>{"use strict";e.s(["ConnectorController",()=>w],149454);var t=e.i(365801),a=e.i(742710),r=e.i(681285),n=e.i(401564),o=e.i(90068),s=e.i(979484),i=e.i(564126),c=e.i(770850),l=e.i(411249),d=e.i(758331),C=e.i(592279),p=e.i(886259),E=e.i(960398),u=e.i(803468),h=e.i(82283),m=e.i(221728);e.s(["ThemeController",()=>S],639403);let f=(0,t.proxy)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),A={state:f,subscribe:e=>(0,t.subscribe)(f,()=>e(f)),setThemeMode(e){f.themeMode=e;try{let t=w.getAuthConnector();if(t){let a=A.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:a,w3mThemeVariables:(0,o.getW3mThemeVariables)(a,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){f.themeVariables={...f.themeVariables,...e};try{let e=w.getAuthConnector();if(e){let t=A.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:(0,o.getW3mThemeVariables)(f.themeVariables,f.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,t.snapshot)(f)},S=(0,C.withErrorBoundary)(A),N=Object.fromEntries(r.AVAILABLE_NAMESPACES.map(e=>[e,void 0])),g=Object.fromEntries(r.AVAILABLE_NAMESPACES.map(e=>[e,!0])),_=(0,t.proxy)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:N,filterByNamespaceMap:g}),w=(0,C.withErrorBoundary)({state:_,subscribe:e=>(0,t.subscribe)(_,()=>{e(_)}),subscribeKey:(e,t)=>(0,a.subscribeKey)(_,e,t),initialize(e){e.forEach(e=>{let t=d.StorageUtil.getConnectedConnectorId(e);t&&w.setConnectorId(t,e)})},setActiveConnector(e){e&&(_.activeConnector=(0,t.ref)(e))},setConnectors(e){e.filter(e=>!_.allConnectors.some(t=>t.id===e.id&&w.getConnectorName(t.name)===w.getConnectorName(e.name)&&t.chain===e.chain)).forEach(e=>{"MULTI_CHAIN"!==e.type&&_.allConnectors.push((0,t.ref)(e))});let a=w.getEnabledNamespaces(),r=w.getEnabledConnectors(a);_.connectors=w.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(_.filterByNamespaceMap).forEach(e=>{_.filterByNamespaceMap[e]=!1}),e.forEach(e=>{_.filterByNamespaceMap[e]=!0}),w.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){_.filterByNamespaceMap[e]=t,w.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=w.getEnabledNamespaces(),t=w.getEnabledConnectors(e),a=w.areAllNamespacesEnabled();_.connectors=w.mergeMultiChainConnectors(t),a?p.ApiController.clearFilterByNamespaces():p.ApiController.filterByNamespaces(e)},getEnabledNamespaces:()=>Object.entries(_.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e),getEnabledConnectors:e=>_.allConnectors.filter(t=>e.includes(t.chain)),areAllNamespacesEnabled:()=>Object.values(_.filterByNamespaceMap).every(e=>e),mergeMultiChainConnectors(e){let t=w.generateConnectorMapByName(e),a=[];return t.forEach(e=>{let t=e[0],r=t?.id===n.ConstantsUtil.CONNECTOR_ID.AUTH;e.length>1&&t?a.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:[...e],type:r?"AUTH":"MULTI_CHAIN",chain:"eip155",id:t?.id||""}):t&&a.push(t)}),a},generateConnectorMapByName(e){let t=new Map;return e.forEach(e=>{let{name:a}=e,r=w.getConnectorName(a);if(!r)return;let n=t.get(r)||[];n.find(t=>t.chain===e.chain)||n.push(e),t.set(r,n)}),t},getConnectorName:e=>e&&({"Trust Wallet":"Trust"})[e]||e,getUniqueConnectorsByName(e){let t=[];return e.forEach(e=>{t.find(t=>t.chain===e.chain)||t.push(e)}),t},addConnector(e){if(e.id===n.ConstantsUtil.CONNECTOR_ID.AUTH){let a=(0,t.snapshot)(h.OptionsController.state),r=S.getSnapshot().themeMode,n=S.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:n,w3mThemeVariables:(0,o.getW3mThemeVariables)(n,r)}),w.setConnectors([e])}else w.setConnectors([e])},getAuthConnector(e){let t=e||E.ChainController.state.activeChain,a=_.connectors.find(e=>e.id===n.ConstantsUtil.CONNECTOR_ID.AUTH);if(a)return a?.connectors?.length?a.connectors.find(e=>e.chain===t):a},getAnnouncedConnectorRdns:()=>_.connectors.filter(e=>"ANNOUNCED"===e.type).map(e=>e.info?.rdns),getConnectorById:e=>c.ConnectorUtil.sortConnectorsByPriority(_.allConnectors).find(t=>t.id===e),getConnector({id:e,namespace:t}){let a=t||E.ChainController.state.activeChain,r=_.allConnectors.filter(e=>e.chain===a);return c.ConnectorUtil.sortConnectorsByPriority(r).find(t=>t.id===e||t.explorerId===e)},syncIfAuthConnector(e){if("AUTH"!==e.id)return;let a=(0,t.snapshot)(h.OptionsController.state),r=S.getSnapshot().themeMode,n=S.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:a.metadata,sdkVersion:a.sdkVersion,sdkType:a.sdkType,projectId:a.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:n,w3mThemeVariables:(0,o.getW3mThemeVariables)(n,r)})},getConnectorsByNamespace(e){let t=_.allConnectors.filter(t=>t.chain===e);return w.mergeMultiChainConnectors(t)},canSwitchToSmartAccount:e=>E.ChainController.checkIfSmartAccountEnabled()&&(0,i.getPreferredAccountType)(e)===s.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,selectWalletConnector(e){let t=m.RouterController.state.data?.redirectView,a=E.ChainController.state.activeChain,r=a?w.getConnector({id:e.id,namespace:a}):void 0;l.MobileWalletUtil.handleMobileDeeplinkRedirect(r?.explorerId||e.id,E.ChainController.state.activeChain),r?m.RouterController.push("ConnectingExternal",{connector:r,wallet:e,redirectView:t}):m.RouterController.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors:e=>e?w.getConnectorsByNamespace(e):w.mergeMultiChainConnectors(_.allConnectors),setFilterByNamespace(e){_.filterByNamespace=e,_.connectors=w.getConnectors(e),p.ApiController.setFilterByNamespace(e)},setConnectorId(e,t){e&&(_.activeConnectorIds={..._.activeConnectorIds,[t]:e},d.StorageUtil.setConnectedConnectorId(t,e))},removeConnectorId(e){_.activeConnectorIds={..._.activeConnectorIds,[e]:void 0},d.StorageUtil.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return _.activeConnectorIds[e]},isConnected:e=>e?!!_.activeConnectorIds[e]:Object.values(_.activeConnectorIds).some(e=>!!e),resetConnectorIds(){_.activeConnectorIds={...N}},extendConnectorsWithExplorerWallets(e){_.allConnectors.forEach(t=>{let a=e.find(e=>e.id===t.id||e.rdns&&e.rdns===t.info?.rdns);a&&(t.explorerWallet=a)});let t=w.getEnabledNamespaces(),a=w.getEnabledConnectors(t);_.connectors=w.mergeMultiChainConnectors(a)},async connect(e={}){let{namespace:t}=e;return w.setFilterByNamespace(t),m.RouterController.push("Connect",{addWalletForNamespace:t}),new Promise((e,a)=>{if(t){let r=E.ChainController.subscribeChainProp("accountState",t=>{t?.caipAddress&&(e({caipAddress:t?.caipAddress}),r())},t),n=u.ModalController.subscribeKey("open",e=>{e||(a(Error("Modal closed")),n())})}else{let t=E.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(e({caipAddress:a}),t())}),r=u.ModalController.subscribeKey("open",e=>{e||(a(Error("Modal closed")),r())})}})}})},210087,e=>{"use strict";e.s(["ConnectionControllerUtil",()=>s]);var t=e.i(971080),a=e.i(149454),r=e.i(653157),n=e.i(82283),o=e.i(227302);let s={getConnectionStatus(e,r){let n=a.ConnectorController.state.activeConnectorIds[r],o=t.ConnectionController.getConnections(r);return n&&e.connectorId===n?"connected":o.some(t=>t.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:e,connectorId:t,addresses:a})=>e.map(e=>{if(t&&e.connectorId.toLowerCase()===t.toLowerCase()&&a){let t=e.accounts.filter(e=>!a.some(t=>t.toLowerCase()===e.address.toLowerCase()));return{...e,accounts:t}}return e}),excludeExistingConnections(e,t){let a=new Set(e);return t.filter(e=>!a.has(e.connectorId))},getConnectionsByConnectorId:(e,t)=>e.filter(e=>e.connectorId.toLowerCase()===t.toLowerCase()),getConnectionsData(e){let r=!!n.OptionsController.state.remoteFeatures?.multiWallet,o=a.ConnectorController.state.activeConnectorIds[e],i=t.ConnectionController.getConnections(e),c=(t.ConnectionController.state.recentConnections.get(e)??[]).filter(e=>a.ConnectorController.getConnectorById(e.connectorId)),l=s.excludeExistingConnections([...i.map(e=>e.connectorId),...o?[o]:[]],c);return r?{connections:i,recentConnections:l}:{connections:i.filter(e=>e.connectorId.toLowerCase()===o?.toLowerCase()),recentConnections:[]}},onConnectMobile(e,a){let s=t.ConnectionController.state.wcUri;if(e?.mobile_link&&s)try{t.ConnectionController.setWcError(!1);let{mobile_link:r,link_mode:i,name:c}=e,l=o.CoreHelperUtil.appendPayToUri(s,a),{redirect:d,redirectUniversalLink:C,href:p}=o.CoreHelperUtil.formatNativeUrl(r,l,i),E=o.CoreHelperUtil.isIframe()?"_top":"_self";t.ConnectionController.setWcLinking({name:c,href:p}),t.ConnectionController.setRecentWallet(e),n.OptionsController.state.experimental_preferUniversalLinks&&C?o.CoreHelperUtil.openHref(C,E):o.CoreHelperUtil.openHref(d,E)}catch(a){r.EventsController.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:a instanceof Error?a.message:"Error parsing the deep link",uri:s,mobile_link:e.mobile_link,name:e.name}}),t.ConnectionController.setWcError(!0)}}}},468883,e=>{"use strict";e.s(["ConnectorControllerUtil",()=>u]);var t=e.i(150576),a=e.i(401564),r=e.i(979484),n=e.i(960398),o=e.i(971080),s=e.i(149454),i=e.i(653157),c=e.i(803468),l=e.i(221728),d=e.i(564126),C=e.i(360334),p=e.i(227302),E=e.i(758331);let u={checkNamespaceConnectorId:(e,t)=>s.ConnectorController.getConnectorId(e)===t,isSocialProvider:e=>C.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials.includes(e),connectWalletConnect:({walletConnect:e,connector:a,closeModalOnConnect:r=!0,redirectViewOnModalClose:o="Connect",onOpen:i,onConnect:d})=>new Promise((C,E)=>{if(e&&s.ConnectorController.setActiveConnector(a),i?.(p.CoreHelperUtil.isMobile()&&e),o){let e=c.ModalController.subscribeKey("open",t=>{t||(l.RouterController.state.view!==o&&l.RouterController.replace(o),e(),E(Error("Modal closed")))})}let u=n.ChainController.subscribeKey("activeCaipAddress",e=>{e&&(d?.(),r&&c.ModalController.close(),u(),C(t.ParseUtil.parseCaipAddress(e)))})}),connectExternal:e=>new Promise((a,r)=>{let s=n.ChainController.subscribeKey("activeCaipAddress",e=>{e&&(c.ModalController.close(),s(),a(t.ParseUtil.parseCaipAddress(e)))});o.ConnectionController.connectExternal(e,e.chain).catch(()=>{s(),r(Error("Connection rejected"))})}),connectSocial({social:e,namespace:r,closeModalOnConnect:l=!0,onOpenFarcaster:d,onConnect:C}){let u,h=!1,m=null,f=r||n.ChainController.state.activeChain,A=n.ChainController.subscribeKey("activeCaipAddress",e=>{e&&(l&&c.ModalController.close(),A())});return new Promise((r,l)=>{async function A(c){if(c.data?.resultUri)if(c.origin===a.ConstantsUtil.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",A,!1);try{let a=s.ConnectorController.getAuthConnector(f);if(a&&!h){u&&u.close(),h=!0;let s=c.data.resultUri;i.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),E.StorageUtil.setConnectedSocialProvider(e),await o.ConnectionController.connectExternal({id:a.id,type:a.type,socialUri:s},a.chain);let d=n.ChainController.state.activeCaipAddress;if(!d)return void l(Error("Failed to connect"));r(t.ParseUtil.parseCaipAddress(d)),i.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(t){i.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:p.CoreHelperUtil.parseError(t)}}),l(Error("Failed to connect"))}}else i.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}!async function(){if(i.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),"farcaster"===e){d?.();let t=c.ModalController.subscribeKey("open",a=>{a||"farcaster"!==e||(l(Error("Popup closed")),C?.(),t())}),a=s.ConnectorController.getAuthConnector();if(a){let e=n.ChainController.getAccountData(f);if(!e?.farcasterUrl)try{let{url:e}=await a.provider.getFarcasterUri();n.ChainController.setAccountProp("farcasterUrl",e,f)}catch{l(Error("Failed to connect to farcaster"))}}}else{let t=s.ConnectorController.getAuthConnector();m=p.CoreHelperUtil.returnOpenHref(`${a.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(t){let{uri:a}=await t.provider.getSocialRedirectUri({provider:e});if(m&&a){m.location.href=a,u=m;let e=setInterval(()=>{u?.closed&&!h&&(l(Error("Popup closed")),clearInterval(e))},1e3);window.addEventListener("message",A,!1)}else m?.close(),l(Error("Failed to initiate social connection"))}}catch{l(Error("Failed to initiate social connection")),m?.close()}}}()})},connectEmail:({closeModalOnConnect:e=!0,redirectViewOnModalClose:a="Connect",onOpen:r,onConnect:o})=>new Promise((s,i)=>{if(r?.(),a){let e=c.ModalController.subscribeKey("open",t=>{t||(l.RouterController.state.view!==a&&l.RouterController.replace(a),e(),i(Error("Modal closed")))})}let d=n.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(o?.(),e&&c.ModalController.close(),d(),s(t.ParseUtil.parseCaipAddress(a)))})}),async updateEmail(){let e=E.StorageUtil.getConnectedConnectorId(n.ChainController.state.activeChain),t=s.ConnectorController.getAuthConnector();if(!t)throw Error("No auth connector found");if(e!==a.ConstantsUtil.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let r=t.provider.getEmail()??"";return await c.ModalController.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((e,a)=>{let n=setInterval(()=>{let a=t.provider.getEmail()??"";a!==r&&(c.ModalController.close(),clearInterval(n),o(),e({email:a}))},1e3),o=c.ModalController.subscribeKey("open",e=>{e||("Connect"!==l.RouterController.state.view&&l.RouterController.push("Connect"),clearInterval(n),o(),a(Error("Modal closed")))})})},canSwitchToSmartAccount:e=>n.ChainController.checkIfSmartAccountEnabled()&&(0,d.getPreferredAccountType)(e)===r.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA}},518887,426618,971080,465166,462579,683075,e=>{"use strict";let t,a;e.s(["BalanceUtil",()=>k],518887);var r=e.i(752012),n=e.i(644616),o=e.i(401564),s=e.i(150576),i=e.i(24742),c=e.i(960398);e.s(["ConnectionController",()=>y],971080);var l=e.i(365801),d=e.i(742710),C=e.i(564126),p=e.i(210087),E=e.i(468883),u=e.i(227302),h=e.i(758331),m=e.i(592279),f=e.i(149454),A=e.i(653157),S=e.i(803468),N=e.i(77277),g=e.i(221728);e.s(["TransactionsController",()=>R],426618);var _=e.i(979484),w=e.i(82283),T=e.i(811424);let I=(0,l.proxy)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),R=(0,m.withErrorBoundary)({state:I,subscribe:e=>(0,l.subscribe)(I,()=>e(I)),setLastNetworkInView(e){I.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw Error("Transactions can't be fetched without an accountAddress");I.loading=!0;try{let t=await i.BlockchainApiController.fetchTransactions({account:e,cursor:I.next,chainId:c.ChainController.state.activeCaipNetwork?.caipNetworkId}),a=R.filterSpamTransactions(t.data),r=R.filterByConnectedChain(a),n=[...I.transactions,...r];I.loading=!1,I.transactions=n,I.transactionsByYear=R.groupTransactionsByYearAndMonth(I.transactionsByYear,r),I.empty=0===n.length,I.next=t.next?t.next:void 0}catch(a){let t=c.ChainController.state.activeChain;A.EventsController.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:w.OptionsController.state.projectId,cursor:I.next,isSmartAccount:(0,C.getPreferredAccountType)(t)===_.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),T.SnackController.showError("Failed to fetch transactions"),I.loading=!1,I.empty=!0,I.next=void 0}},groupTransactionsByYearAndMonth:(e={},t=[])=>(t.forEach(t=>{let a=new Date(t.metadata.minedAt).getFullYear(),r=new Date(t.metadata.minedAt).getMonth(),n=e[a]??{},o=(n[r]??[]).filter(e=>e.id!==t.id);e[a]={...n,[r]:[...o,t].sort((e,t)=>new Date(t.metadata.minedAt).getTime()-new Date(e.metadata.minedAt).getTime())}}),e),filterSpamTransactions:e=>e.filter(e=>!e.transfers?.every(e=>e.nft_info?.flags.is_spam===!0)),filterByConnectedChain(e){let t=c.ChainController.state.activeCaipNetwork?.caipNetworkId;return e.filter(e=>e.metadata.chain===t)},clearCursor(){I.next=void 0},resetTransactions(){I.transactions=[],I.transactionsByYear={},I.lastNetworkInView=void 0,I.loading=!1,I.empty=!1,I.next=void 0}},"API_ERROR"),O=(0,l.proxy)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"}),y=(0,m.withErrorBoundary)({state:O,subscribe:e=>(0,l.subscribe)(O,()=>e(O)),subscribeKey:(e,t)=>(0,d.subscribeKey)(O,e,t),_getClient:()=>O._client,setClient(e){O._client=(0,l.ref)(e)},initialize(e){let t=e.filter(e=>!!e.namespace).map(e=>e.namespace);y.syncStorageConnections(t)},syncStorageConnections(e){let t=h.StorageUtil.getConnections();for(let a of e??Array.from(c.ChainController.state.chains.keys())){let e=t[a]??[],r=new Map(O.recentConnections);r.set(a,e),O.recentConnections=r}},getConnections:e=>e?O.connections.get(e)??[]:[],hasAnyConnection:e=>Array.from(y.state.connections.values()).flatMap(e=>e).some(({connectorId:t})=>t===e),async connectWalletConnect({cache:e="auto"}={}){O.wcFetchingUri=!0;let a=u.CoreHelperUtil.isTelegram()||u.CoreHelperUtil.isSafari()&&u.CoreHelperUtil.isIos();if("always"===e||"auto"===e&&a){if(t){await t,t=void 0;return}if(!u.CoreHelperUtil.isPairingExpired(O?.wcPairingExpiry)){let e=O.wcUri;O.wcUri=e;return}t=y._getClient()?.connectWalletConnect?.().catch(()=>void 0),y.state.status="connecting",await t,t=void 0,O.wcPairingExpiry=void 0,y.state.status="connected"}else await y._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,a=!0){let r=await y._getClient()?.connectExternal?.(e);a&&c.ChainController.setActiveNamespace(t);let n=f.ConnectorController.state.allConnectors.find(t=>t.id===e?.id),o="AUTH"===e.type?"email":"browser";return A.EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:o,name:n?.name||"Unknown",view:g.RouterController.state.view,walletRank:n?.explorerWallet?.order}}),r},async reconnectExternal(e){await y._getClient()?.reconnectExternal?.(e);let t=e.chain||c.ChainController.state.activeChain;t&&f.ConnectorController.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;S.ModalController.setLoading(!0,c.ChainController.state.activeChain);let a=f.ConnectorController.getAuthConnector();a&&(c.ChainController.setAccountProp("preferredAccountType",e,t),await a.provider.setPreferredAccount(e),h.StorageUtil.setPreferredAccountTypes(Object.entries(c.ChainController.state.chains).reduce((e,[t,a])=>{let r=(0,C.getPreferredAccountType)(t);return void 0!==r&&(e[t]=r),e},{})),await y.reconnectExternal(a),S.ModalController.setLoading(!1,c.ChainController.state.activeChain),A.EventsController.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:c.ChainController.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async e=>y._getClient()?.signMessage(e),parseUnits:(e,t)=>y._getClient()?.parseUnits(e,t),formatUnits:(e,t)=>y._getClient()?.formatUnits(e,t),updateBalance:e=>y._getClient()?.updateBalance(e),sendTransaction:async e=>y._getClient()?.sendTransaction(e),getCapabilities:async e=>y._getClient()?.getCapabilities(e),grantPermissions:async e=>y._getClient()?.grantPermissions(e),walletGetAssets:async e=>y._getClient()?.walletGetAssets(e)??{},estimateGas:async e=>y._getClient()?.estimateGas(e),writeContract:async e=>y._getClient()?.writeContract(e),writeSolanaTransaction:async e=>y._getClient()?.writeSolanaTransaction(e),getEnsAddress:async e=>y._getClient()?.getEnsAddress(e),getEnsAvatar:async e=>y._getClient()?.getEnsAvatar(e),checkInstalled:e=>y._getClient()?.checkInstalled?.(e)||!1,resetWcConnection(){O.wcUri=void 0,O.wcPairingExpiry=void 0,O.wcLinking=void 0,O.recentWallet=void 0,O.wcFetchingUri=!1,O.status="disconnected",R.resetTransactions(),h.StorageUtil.deleteWalletConnectDeepLink(),h.StorageUtil.deleteRecentWallet(),N.PublicStateController.set({connectingWallet:void 0})},resetUri(){O.wcUri=void 0,O.wcPairingExpiry=void 0,t=void 0,O.wcFetchingUri=!1,N.PublicStateController.set({connectingWallet:void 0})},finalizeWcConnection(e){let{wcLinking:t,recentWallet:a}=y.state;t&&h.StorageUtil.setWalletConnectDeepLink(t),a&&h.StorageUtil.setAppKitRecent(a),e&&A.EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:g.RouterController.state.data?.wallet?.name||"Unknown",view:g.RouterController.state.view,walletRank:a?.order}})},setWcBasic(e){O.wcBasic=e},setUri(e){O.wcUri=e,O.wcFetchingUri=!1,O.wcPairingExpiry=u.CoreHelperUtil.getPairingExpiry()},setWcLinking(e){O.wcLinking=e},setWcError(e){O.wcError=e,O.wcFetchingUri=!1,O.buffering=!1},setRecentWallet(e){O.recentWallet=e},setBuffering(e){O.buffering=e},setStatus(e){O.status=e},setIsSwitchingConnection(e){O.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:a}={}){try{await y._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:a})}catch(e){throw new m.AppKitError("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},async disconnectConnector({id:e,namespace:t}){try{await y._getClient()?.disconnectConnector({id:e,namespace:t})}catch(e){throw new m.AppKitError("Failed to disconnect connector","INTERNAL_SDK_ERROR",e)}},setConnections(e,t){let a=new Map(O.connections);a.set(t,e),O.connections=a},async handleAuthAccountSwitch({address:e,namespace:t}){let a=c.ChainController.getAccountData(t),r=a?.user?.accounts?.find(e=>"smartAccount"===e.type),n=r&&r.address.toLowerCase()===e.toLowerCase()&&E.ConnectorControllerUtil.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await y.setPreferredAccountType(n,t)},async handleActiveConnection({connection:e,namespace:t,address:a}){let r=f.ConnectorController.getConnectorById(e.connectorId),n=e.connectorId===o.ConstantsUtil.CONNECTOR_ID.AUTH;if(!r)throw Error(`No connector found for connection: ${e.connectorId}`);if(n)a&&await y.handleAuthAccountSwitch({address:a,namespace:t});else{let e=await y.connectExternal({id:r.id,type:r.type,provider:r.provider,address:a,chain:t},t);return e?.address}return a},async handleDisconnectedConnection({connection:e,namespace:t,address:a,closeModalOnConnect:r}){let n,s=f.ConnectorController.getConnectorById(e.connectorId),i=e.auth?.name?.toLowerCase(),c=e.connectorId===o.ConstantsUtil.CONNECTOR_ID.AUTH,l=e.connectorId===o.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw Error(`No connector found for connection: ${e.connectorId}`);if(c)if(i&&E.ConnectorControllerUtil.isSocialProvider(i)){let{address:e}=await E.ConnectorControllerUtil.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){S.ModalController.open({view:"ConnectingFarcaster"})},onConnect(){g.RouterController.replace("ProfileWallets")}});n=e}else{let{address:e}=await E.ConnectorControllerUtil.connectEmail({closeModalOnConnect:r,onOpen(){S.ModalController.open({view:"EmailLogin"})},onConnect(){g.RouterController.replace("ProfileWallets")}});n=e}else if(l){let{address:e}=await E.ConnectorControllerUtil.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(e){let t=e?"AllWallets":"ConnectingWalletConnect";S.ModalController.state.open?g.RouterController.push(t):S.ModalController.open({view:t})},onConnect(){g.RouterController.replace("ProfileWallets")}});n=e}else{let e=await y.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);e&&(n=e.address)}return c&&a&&await y.handleAuthAccountSwitch({address:a,namespace:t}),n},async switchConnection({connection:e,address:t,namespace:a,closeModalOnConnect:r,onChange:n}){let o,i=c.ChainController.getAccountData(a)?.caipAddress;if(i){let{address:e}=s.ParseUtil.parseCaipAddress(i);o=e}let l=p.ConnectionControllerUtil.getConnectionStatus(e,a);switch(l){case"connected":case"active":{let r=await y.handleActiveConnection({connection:e,namespace:a,address:t});if(o&&r){let e=r.toLowerCase()!==o.toLowerCase();n?.({address:r,namespace:a,hasSwitchedAccount:e,hasSwitchedWallet:"active"===l})}break}case"disconnected":{let o=await y.handleDisconnectedConnection({connection:e,namespace:a,address:t,closeModalOnConnect:r});o&&n?.({address:o,namespace:a,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw Error(`Invalid connection status: ${l}`)}}}),b={createBalance(e,t){let a={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:a.name,symbol:a.symbol,chainId:t,address:"native"===e.address?void 0:this.convertAddressToCAIP10Address(e.address,t),value:a.value,price:a.price,quantity:{decimals:a.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:a.decimals})},iconUrl:a.iconUrl}},convertHexToBalance:({hex:e,decimals:t})=>(0,n.formatUnits)(BigInt(e),t),convertAddressToCAIP10Address:(e,t)=>`${t}:${e}`,createCAIP2ChainId:(e,t)=>`${t}:${parseInt(e,16)}`,getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let a=parseInt(t[1],10);return isNaN(a)?"0x0":`0x${a.toString(16)}`},isWalletGetAssetsResponse(e){return"object"==typeof e&&null!==e&&Object.values(e).every(e=>Array.isArray(e)&&e.every(e=>this.isValidAsset(e)))},isValidAsset:e=>"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.balance&&("ERC20"===e.type||"NATIVE"===e.type)&&"object"==typeof e.metadata&&null!==e.metadata&&"string"==typeof e.metadata.name&&"string"==typeof e.metadata.symbol&&"number"==typeof e.metadata.decimals&&"number"==typeof e.metadata.price&&"string"==typeof e.metadata.iconUrl};async function v(){if(!a){let{createPublicClient:t,http:r,defineChain:n}=await e.A(933619);a={createPublicClient:t,http:r,defineChain:n}}return a}let U={getBlockchainApiRpcUrl(e,t){let a=new URL("https://rpc.walletconnect.org/v1/");return a.searchParams.set("chainId",e),a.searchParams.set("projectId",t),a.toString()},async getViemChain(e){let{defineChain:t}=await v(),{chainId:a}=s.ParseUtil.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(a)})},async createViemPublicClient(e){let{createPublicClient:t,http:a}=await v(),r=w.OptionsController.state.projectId,n=await U.getViemChain(e);if(!n)throw Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:n,transport:a(U.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}},k={async getMyTokensWithBalance(e={forceUpdate:void 0,caipNetwork:c.ChainController.state.activeCaipNetwork,address:c.ChainController.getAccountData()?.address}){let{forceUpdate:t,caipNetwork:a,address:r}=e,n=f.ConnectorController.getConnectorId("eip155")===o.ConstantsUtil.CONNECTOR_ID.AUTH;if(!r)return[];let s=a?`${a.caipNetworkId}:${r}`:r,l=h.StorageUtil.getBalanceCacheForCaipAddress(s);if(l)return l.balances;if(a&&a.chainNamespace===o.ConstantsUtil.CHAIN.EVM&&n){let e=await this.getEIP155Balances(r,a);if(e)return this.filterLowQualityTokens(e)}let d=await i.BlockchainApiController.getBalance(r,a?.caipNetworkId,t);return this.filterLowQualityTokens(d.balances)},async getEIP155Balances(e,t){try{let a=b.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),r=await y.getCapabilities(e);if(!r?.[a]?.assetDiscovery?.supported)return null;let n=await y.walletGetAssets({account:e,chainFilter:[a]});if(!b.isWalletGetAssetsResponse(n))return null;let o=(n[a]||[]).map(e=>b.createBalance(e,t.caipNetworkId));return h.StorageUtil.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:o},timestamp:Date.now()}),o}catch(e){return null}},filterLowQualityTokens:e=>e.filter(e=>"0"!==e.quantity.decimals),async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:a}){let o=await U.createViemPublicClient(a),{address:i}=s.ParseUtil.parseCaipAddress(e),[{result:c},{result:l},{result:d},{result:C}]=await o.multicall({contracts:[{address:t,functionName:"name",args:[],abi:r.erc20Abi},{address:t,functionName:"symbol",args:[],abi:r.erc20Abi},{address:t,functionName:"balanceOf",args:[i],abi:r.erc20Abi},{address:t,functionName:"decimals",args:[],abi:r.erc20Abi}]});return{name:c,symbol:l,decimals:C,balance:d&&C?(0,n.formatUnits)(d,C):"0"}}},P={adapters:{}};e.s(["AdapterController",0,{state:P,initialize(e){P.adapters={...e}},get:e=>P.adapters[e]}],465166);let L={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},D=(0,l.proxy)({providers:{...L},providerIds:{...L}});e.s(["ProviderController",0,{state:D,subscribeKey:(e,t)=>(0,d.subscribeKey)(D,e,t),subscribe:e=>(0,l.subscribe)(D,()=>{e(D)}),subscribeProviders:e=>(0,l.subscribe)(D.providers,()=>e(D.providers)),setProvider(e,t){e&&t&&(D.providers[e]=(0,l.ref)(t))},getProvider(e){if(e)return D.providers[e]},setProviderId(e,t){t&&(D.providerIds[e]=t)},getProviderId(e){if(e)return D.providerIds[e]},reset(){D.providers={...L},D.providerIds={...L}},resetChain(e){D.providers[e]=void 0,D.providerIds[e]=void 0}}],462579);let M={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3,SEND_TRANSACTION_ERROR:5001},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError",SEND_TRANSACTION_ERROR:"SendTransactionError"},isRpcProviderError(e){try{if("object"==typeof e&&null!==e){let t="string"==typeof e.message,a="number"==typeof e.code;return t&&a}return!1}catch{return!1}},isUserRejectedMessage:e=>e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled"),isUserRejectedRequestError(e){if(M.isRpcProviderError(e)){let t=e.code===M.RPC_ERROR_CODE.USER_REJECTED_REQUEST,a=e.code===M.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||a||M.isUserRejectedMessage(e.message)}return e instanceof Error&&M.isUserRejectedMessage(e.message)}};class W extends Error{constructor(e,t){super(t.message,{cause:e}),this.name=M.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=t.code}}class B extends W{constructor(e){super(e,{code:M.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=M.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}e.s(["ErrorUtil",0,M,"UserRejectedRequestError",()=>B],683075)},675457,e=>{"use strict";var t="[big.js] ",a=t+"Invalid ",r=a+"decimal places",n=a+"rounding mode",o=t+"Division by zero",s={},i=void 0,c=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function l(e,t,a,r){var o=e.c;if(a===i&&(a=e.constructor.RM),0!==a&&1!==a&&2!==a&&3!==a)throw Error(n);if(t<1)r=3===a&&(r||!!o[0])||0===t&&(1===a&&o[0]>=5||2===a&&(o[0]>5||5===o[0]&&(r||o[1]!==i))),o.length=1,r?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(r=1===a&&o[t]>=5||2===a&&(o[t]>5||5===o[t]&&(r||o[t+1]!==i||1&o[t-1]))||3===a&&(r||!!o[0]),o.length=t,r){for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}}for(t=o.length;!o[--t];)o.pop()}return e}function d(e,t,a){var r=e.e,n=e.c.join(""),o=n.length;if(t)n=n.charAt(0)+(o>1?"."+n.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)n="0"+n;n="0."+n}else if(r>0)if(++r>o)for(r-=o;r--;)n+="0";else r<o&&(n=n.slice(0,r)+"."+n.slice(r));else o>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&a?"-"+n:n}s.abs=function(){var e=new this.constructor(this);return e.s=1,e},s.cmp=function(e){var t,a=this.c,r=(e=new this.constructor(e)).c,n=this.s,o=e.s,s=this.e,i=e.e;if(!a[0]||!r[0])return a[0]?n:r[0]?-o:0;if(n!=o)return n;if(t=n<0,s!=i)return s>i^t?1:-1;for(n=-1,o=(s=a.length)<(i=r.length)?s:i;++n<o;)if(a[n]!=r[n])return a[n]>r[n]^t?1:-1;return s==i?0:s>i^t?1:-1},s.div=function(e){var t=this.constructor,a=this.c,n=(e=new t(e)).c,s=this.s==e.s?1:-1,c=t.DP;if(c!==~~c||c<0||c>1e6)throw Error(r);if(!n[0])throw Error(o);if(!a[0])return e.s=s,e.c=[e.e=0],e;var d,C,p,E,u,h=n.slice(),m=d=n.length,f=a.length,A=a.slice(0,d),S=A.length,N=e,g=N.c=[],_=0,w=c+(N.e=this.e-e.e)+1;for(N.s=s,s=w<0?0:w,h.unshift(0);S++<d;)A.push(0);do{for(p=0;p<10;p++){if(d!=(S=A.length))E=d>S?1:-1;else for(u=-1,E=0;++u<d;)if(n[u]!=A[u]){E=n[u]>A[u]?1:-1;break}if(E<0){for(C=S==d?n:h;S;){if(A[--S]<C[S]){for(u=S;u&&!A[--u];)A[u]=9;--A[u],A[S]+=10}A[S]-=C[S]}for(;!A[0];)A.shift()}else break}g[_++]=E?p:++p,A[0]&&E?A[S]=a[m]||0:A=[a[m]]}while((m++<f||A[0]!==i)&&s--)return!g[0]&&1!=_&&(g.shift(),N.e--,w--),_>w&&l(N,w,t.RM,A[0]!==i),N},s.eq=function(e){return 0===this.cmp(e)},s.gt=function(e){return this.cmp(e)>0},s.gte=function(e){return this.cmp(e)>-1},s.lt=function(e){return 0>this.cmp(e)},s.lte=function(e){return 1>this.cmp(e)},s.minus=s.sub=function(e){var t,a,r,n,o=this.constructor,s=this.s,i=(e=new o(e)).s;if(s!=i)return e.s=-i,this.plus(e);var c=this.c.slice(),l=this.e,d=e.c,C=e.e;if(!c[0]||!d[0])return d[0]?e.s=-i:c[0]?e=new o(this):e.s=1,e;if(s=l-C){for((n=s<0)?(s=-s,r=c):(C=l,r=d),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else for(a=((n=c.length<d.length)?c:d).length,s=i=0;i<a;i++)if(c[i]!=d[i]){n=c[i]<d[i];break}if(n&&(r=c,c=d,d=r,e.s=-e.s),(i=(a=d.length)-(t=c.length))>0)for(;i--;)c[t++]=0;for(i=t;a>s;){if(c[--a]<d[a]){for(t=a;t&&!c[--t];)c[t]=9;--c[t],c[a]+=10}c[a]-=d[a]}for(;0===c[--i];)c.pop();for(;0===c[0];)c.shift(),--C;return c[0]||(e.s=1,c=[C=0]),e.c=c,e.e=C,e},s.mod=function(e){var t,a=this,r=a.constructor,n=a.s,s=(e=new r(e)).s;if(!e.c[0])throw Error(o);return(a.s=e.s=1,t=1==e.cmp(a),a.s=n,e.s=s,t)?new r(a):(n=r.DP,s=r.RM,r.DP=r.RM=0,a=a.div(e),r.DP=n,r.RM=s,this.minus(a.times(e)))},s.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},s.plus=s.add=function(e){var t,a,r,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var o=this.e,s=this.c,i=e.e,c=e.c;if(!s[0]||!c[0])return c[0]||(s[0]?e=new n(this):e.s=this.s),e;if(s=s.slice(),t=o-i){for(t>0?(i=o,r=c):(t=-t,r=s),r.reverse();t--;)r.push(0);r.reverse()}for(s.length-c.length<0&&(r=c,c=s,s=r),t=c.length,a=0;t;s[t]%=10)a=(s[--t]=s[t]+c[t]+a)/10|0;for(a&&(s.unshift(a),++i),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=i,e},s.pow=function(e){var t=this,r=new t.constructor("1"),n=r,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(a+"exponent");for(o&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return o?r.div(n):n},s.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(a+"precision");return l(new this.constructor(this),e,t)},s.round=function(e,t){if(e===i)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(r);return l(new this.constructor(this),e+this.e+1,t)},s.sqrt=function(){var e,a,r,n=this.constructor,o=this.s,s=this.e,i=new n("0.5");if(!this.c[0])return new n(this);if(o<0)throw Error(t+"No square root");0===(o=Math.sqrt(+d(this,!0,!0)))||o===1/0?((a=this.c.join("")).length+s&1||(a+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new n(((o=Math.sqrt(a))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):e=new n(o+""),s=e.e+(n.DP+=4);do r=e,e=i.times(r.plus(this.div(r)));while(r.c.slice(0,s).join("")!==e.c.slice(0,s).join(""))return l(e,(n.DP-=4)+e.e+1,n.RM)},s.times=s.mul=function(e){var t,a=this.constructor,r=this.c,n=(e=new a(e)).c,o=r.length,s=n.length,i=this.e,c=e.e;if(e.s=this.s==e.s?1:-1,!r[0]||!n[0])return e.c=[e.e=0],e;for(e.e=i+c,o<s&&(t=r,r=n,n=t,c=o,o=s,s=c),t=Array(c=o+s);c--;)t[c]=0;for(i=s;i--;){for(s=0,c=o+i;c>i;)s=t[c]+n[i]*r[c-i-1]+s,t[c--]=s%10,s=s/10|0;t[c]=s}for(s?++e.e:t.shift(),i=t.length;!t[--i];)t.pop();return e.c=t,e},s.toExponential=function(e,t){var a=this,n=a.c[0];if(e!==i){if(e!==~~e||e<0||e>1e6)throw Error(r);for(a=l(new a.constructor(a),++e,t);a.c.length<e;)a.c.push(0)}return d(a,!0,!!n)},s.toFixed=function(e,t){var a=this,n=a.c[0];if(e!==i){if(e!==~~e||e<0||e>1e6)throw Error(r);for(a=l(new a.constructor(a),e+a.e+1,t),e=e+a.e+1;a.c.length<e;)a.c.push(0)}return d(a,!1,!!n)},s[Symbol.for("nodejs.util.inspect.custom")]=s.toJSON=s.toString=function(){var e=this.constructor;return d(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},s.toNumber=function(){var e=+d(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(t+"Imprecise conversion");return e},s.toPrecision=function(e,t){var r=this,n=r.constructor,o=r.c[0];if(e!==i){if(e!==~~e||e<1||e>1e6)throw Error(a+"precision");for(r=l(new n(r),e,t);r.c.length<e;)r.c.push(0)}return d(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!o)},s.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(t+"valueOf disallowed");return d(this,this.e<=e.NE||this.e>=e.PE,!0)};var C=function e(){function t(r){if(!(this instanceof t))return r===i?e():new t(r);if(r instanceof t)this.s=r.s,this.e=r.e,this.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict&&"bigint"!=typeof r)throw TypeError(a+"value");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,o;if(!c.test(t))throw Error(a+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),o=t.length,n=0;n<o&&"0"==t.charAt(n);)++n;if(n==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=r-n-1,e.c=[],r=0;n<=o;)e.c[r++]=+t.charAt(n++)}}(this,r)}this.constructor=t}return t.prototype=s,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();let p={bigNumber(e,t={safe:!1}){try{if(!e)return new C(0);return new C(e)}catch(e){if(t.safe)return new C(0);throw e}},formatNumber(e,t){let{decimals:a,round:r=8,safe:n=!0}=t;return p.bigNumber(e,{safe:n}).div(new C(10).pow(a)).round(r)},multiply(e,t){if(void 0===e||void 0===t)return new C(0);let a=new C(e),r=new C(t);return a.times(r)},toFixed:(e,t=2)=>void 0===e||""===e?new C(0).toFixed(t):new C(e).toFixed(t),formatNumberToLocalString:(e,t=2)=>void 0===e||""===e?"0.00":"number"==typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}),parseLocalStringToNumber:e=>void 0===e||""===e?0:new C(e.replace(/,/gu,"")).toNumber()};e.s(["NumberUtil",0,p],675457)},960398,959204,664717,194712,e=>{"use strict";e.s(["ChainController",()=>B],960398);var t=e.i(365801),a=e.i(742710),r=e.i(401564),n=e.i(681285),o=e.i(150576),s=e.i(979484),i=e.i(824652),c=e.i(518887),l=e.i(360334),d=e.i(227302),C=e.i(758331),p=e.i(592279),E=e.i(465166),u=e.i(971080),h=e.i(149454),m=e.i(653157),f=e.i(803468),A=e.i(82283),S=e.i(462579),N=e.i(77277);e.s(["SendController",()=>P],194712);var g=e.i(683075),_=e.i(675457);let w=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],T=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],I=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],R={getERC20Abi:e=>r.ConstantsUtil.USDT_CONTRACT_ADDRESSES.includes(e)?I:w,getSwapAbi:()=>T};e.s(["ContractUtil",0,R],959204);var O=e.i(564126);e.s(["SwapApiUtil",()=>b],664717);var y=e.i(24742);let b={async getTokenList(e){let t=await y.BlockchainApiController.fetchSwapTokens({chainId:e});return t?.tokens?.map(e=>({...e,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let e=B.state.activeCaipNetwork;if(!e)return null;try{if("solana"!==e.chainNamespace)return await y.BlockchainApiController.fetchGasPrice({chainId:e.caipNetworkId});{let e=(await u.ConnectionController?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e}}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:a,sourceTokenDecimals:r}){let n=await y.BlockchainApiController.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(n?.allowance&&a&&r){let e=u.ConnectionController.parseUnits(a,r)||0;return BigInt(n.allowance)>=e}return!1},async getMyTokensWithBalance(e){let t=await c.BalanceUtil.getMyTokensWithBalance({forceUpdate:e,caipNetwork:B.state.activeCaipNetwork,address:B.getAccountData()?.address});return B.setAccountProp("tokenBalance",t,B.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens:e=>e?.map(e=>({...e,address:e?.address?e.address:(0,O.getActiveNetworkTokenAddress)(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[],async handleSwapError(e){try{let t=e?.cause;if(!t?.json)return;let a=await t.json(),r=a?.reasons?.[0]?.description;if(r?.includes("insufficient liquidity"))return"Insufficient liquidity";return}catch{return}}};var v=e.i(221728),U=e.i(811424);let k=(0,t.proxy)({tokenBalances:[],loading:!1}),P=(0,p.withErrorBoundary)({state:k,subscribe:e=>(0,t.subscribe)(k,()=>e(k)),subscribeKey:(e,t)=>(0,a.subscribeKey)(k,e,t),setToken(e){e&&(k.token=(0,t.ref)(e))},setTokenAmount(e){k.sendTokenAmount=e},setReceiverAddress(e){k.receiverAddress=e},setReceiverProfileImageUrl(e){k.receiverProfileImageUrl=e},setReceiverProfileName(e){k.receiverProfileName=e},setNetworkBalanceInUsd(e){k.networkBalanceInUSD=e},setLoading(e){k.loading=e},getSdkEventProperties:e=>({message:d.CoreHelperUtil.parseError(e),isSmartAccount:(0,O.getPreferredAccountType)(B.state.activeChain)===s.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:k.token?.symbol||"",amount:k.sendTokenAmount??0,network:B.state.activeCaipNetwork?.caipNetworkId||""}),async sendToken(){try{switch(P.setLoading(!0),B.state.activeCaipNetwork?.chainNamespace){case"eip155":await P.sendEvmToken();return;case"solana":await P.sendSolanaToken();return;default:throw Error("Unsupported chain")}}catch(e){if(g.ErrorUtil.isUserRejectedRequestError(e))throw new g.UserRejectedRequestError(e);throw e}finally{P.setLoading(!1)}},async sendEvmToken(){let e=B.state.activeChain;if(!e)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let t=(0,O.getPreferredAccountType)(e);if(!P.state.sendTokenAmount||!P.state.receiverAddress)throw Error("An amount and receiver address are required");if(!P.state.token)throw Error("A token is required");if(P.state.token?.address){m.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===s.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.state.token.address,amount:P.state.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:e}=await P.sendERC20Token({receiverAddress:P.state.receiverAddress,tokenAddress:P.state.token.address,sendTokenAmount:P.state.sendTokenAmount,decimals:P.state.token.quantity.decimals});e&&(k.hash=e)}else{m.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===s.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.state.token.symbol||"",amount:P.state.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:e}=await P.sendNativeToken({receiverAddress:P.state.receiverAddress,sendTokenAmount:P.state.sendTokenAmount,decimals:P.state.token.quantity.decimals});e&&(k.hash=e)}},async fetchTokenBalance(e){k.loading=!0;let t=B.state.activeChain,a=B.state.activeCaipNetwork?.caipNetworkId,r=B.state.activeCaipNetwork?.chainNamespace,n=B.getAccountData(t)?.caipAddress??B.state.activeCaipAddress,o=n?d.CoreHelperUtil.getPlainAddress(n):void 0;if(k.lastRetry&&!d.CoreHelperUtil.isAllowedRetry(k.lastRetry,30*l.ConstantsUtil.ONE_SEC_MS))return k.loading=!1,[];try{if(o&&a&&r){let e=await c.BalanceUtil.getMyTokensWithBalance();return k.tokenBalances=e,k.lastRetry=void 0,e}}catch(t){k.lastRetry=Date.now(),e?.(t),U.SnackController.showError("Token Balance Unavailable")}finally{k.loading=!1}return[]},fetchNetworkBalance(){if(0===k.tokenBalances.length)return;let e=b.mapBalancesToSwapTokens(k.tokenBalances);if(!e)return;let t=e.find(e=>e.address===(0,O.getActiveNetworkTokenAddress)());t&&(k.networkBalanceInUSD=t?_.NumberUtil.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){v.RouterController.pushTransactionStack({});let t=e.receiverAddress,a=B.getAccountData()?.address,n=u.ConnectionController.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),o=await u.ConnectionController.sendTransaction({chainNamespace:r.ConstantsUtil.CHAIN.EVM,to:t,address:a,data:"0x",value:n??BigInt(0)});return m.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,O.getPreferredAccountType)("eip155")===s.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.state.token?.symbol||"",amount:e.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||"",hash:o||""}}),u.ConnectionController._getClient()?.updateBalance("eip155"),P.resetSend(),{hash:o}},async sendERC20Token(e){v.RouterController.pushTransactionStack({onSuccess(){v.RouterController.replace("Account")}});let t=u.ConnectionController.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),a=B.getAccountData()?.address;if(a&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let n=d.CoreHelperUtil.getPlainAddress(e.tokenAddress);if(!n)throw Error("SendController:sendERC20Token - tokenAddress is required");let o=await u.ConnectionController.writeContract({fromAddress:a,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:R.getERC20Abi(n),chainNamespace:r.ConstantsUtil.CHAIN.EVM});return m.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,O.getPreferredAccountType)("eip155")===s.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.state.token?.symbol||"",amount:e.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||"",hash:o||""}}),P.resetSend(),{hash:o}}return{hash:void 0}},async sendSolanaToken(){let e;if(!P.state.sendTokenAmount||!P.state.receiverAddress)throw Error("An amount and receiver address are required");v.RouterController.pushTransactionStack({onSuccess(){v.RouterController.replace("Account")}}),P.state.token&&P.state.token.address!==l.ConstantsUtil.SOLANA_NATIVE_TOKEN_ADDRESS&&(e=d.CoreHelperUtil.isCaipAddress(P.state.token.address)?d.CoreHelperUtil.getPlainAddress(P.state.token.address):P.state.token.address);let t=await u.ConnectionController.sendTransaction({chainNamespace:"solana",tokenMint:e,to:P.state.receiverAddress,value:P.state.sendTokenAmount});t&&(k.hash=t),u.ConnectionController._getClient()?.updateBalance("solana"),m.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:P.state.token?.symbol||"",amount:P.state.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),P.resetSend()},resetSend(){k.token=void 0,k.sendTokenAmount=void 0,k.receiverAddress=void 0,k.receiverProfileImageUrl=void 0,k.receiverProfileName=void 0,k.loading=!1,k.tokenBalances=[]}}),L={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},D={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},M=(0,t.proxy)({chains:(0,a.proxyMap)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),W={state:M,subscribe:e=>(0,t.subscribe)(M,()=>{e(M)}),subscribeKey:(e,t)=>(0,a.subscribeKey)(M,e,t),subscribeAccountStateProp(e,t,r){let n=r||M.activeChain;return n?(0,a.subscribeKey)(M.chains.get(n)?.accountState||{},e,t):()=>void 0},subscribeChainProp(e,a,r){let n;return(0,t.subscribe)(M.chains,()=>{let t=r||M.activeChain;if(t){let r=M.chains.get(t)?.[e];n!==r&&(n=r,a(r))}})},initialize(e,a,r){let{chainId:n,namespace:o}=C.StorageUtil.getActiveNetworkProps(),s=a?.find(e=>e.id.toString()===n?.toString()),i=e.find(e=>e?.namespace===o)||e?.[0],c=e.map(e=>e.namespace).filter(e=>void 0!==e),l=new Set(A.OptionsController.state.enableEmbedded?[...c]:[...a?.map(e=>e.chainNamespace)??[]]);e?.length!==0&&i||(M.noAdapters=!0),!M.noAdapters&&(M.activeChain=i?.namespace,M.activeCaipNetwork=s,B.setChainNetworkData(i?.namespace,{caipNetwork:s}),M.activeChain&&N.PublicStateController.set({activeChain:i?.namespace})),l.forEach(e=>{let n=a?.filter(t=>t.chainNamespace===e),o=C.StorageUtil.getPreferredAccountTypes()||{},s={...A.OptionsController.state.defaultAccountTypes,...o};B.state.chains.set(e,{namespace:e,networkState:(0,t.proxy)({...D,caipNetwork:n?.[0]}),accountState:(0,t.proxy)({...L,preferredAccountType:s[e]}),caipNetworks:n??[],...r}),B.setRequestedCaipNetworks(n??[],e)})},removeAdapter(e){if(M.activeChain===e){let t=Array.from(M.chains.entries()).find(([t])=>t!==e);if(t){let e=t[1]?.caipNetworks?.[0];e&&B.setActiveCaipNetwork(e)}}M.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},a){if(!e.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");M.chains.set(e.namespace,{namespace:e.namespace,networkState:{...D,caipNetwork:a[0]},accountState:{...L},caipNetworks:a,connectionControllerClient:t}),B.setRequestedCaipNetworks(a?.filter(t=>t.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){let t=M.chains.get(e.chainNamespace);if(t){let a=[...t.caipNetworks||[]];t.caipNetworks?.find(t=>t.id===e.id)||a.push(e),M.chains.set(e.chainNamespace,{...t,caipNetworks:a}),B.setRequestedCaipNetworks(a,e.chainNamespace),h.ConnectorController.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let a=M.chains.get(e);if(a){let r=M.activeCaipNetwork?.id===t,n=[...a.caipNetworks?.filter(e=>e.id!==t)||[]];r&&a?.caipNetworks?.[0]&&B.setActiveCaipNetwork(a.caipNetworks[0]),M.chains.set(e,{...a,caipNetworks:n}),B.setRequestedCaipNetworks(n||[],e),0===n.length&&h.ConnectorController.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let a=M.chains.get(e);a&&(a.networkState={...a.networkState||D,...t},M.chains.set(e,a))},setChainAccountData(e,t,a=!0){if(!e)throw Error("Chain is required to update chain account data");let r=M.chains.get(e);if(r){let a={...r.accountState||L,...t};M.chains.set(e,{...r,accountState:a}),(1===M.chains.size||M.activeChain===e)&&t.caipAddress&&(M.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;let a=M.chains.get(e);if(a){let r={...a.networkState||D,...t};M.chains.set(e,{...a,networkState:r})}},setAccountProp(e,t,a,r=!0){B.setChainAccountData(a,{[e]:t},r)},setActiveNamespace(e){M.activeChain=e;let t=e?M.chains.get(e):void 0,a=t?.networkState?.caipNetwork;a?.id&&e&&(M.activeCaipAddress=t?.accountState?.caipAddress,M.activeCaipNetwork=a,B.setChainNetworkData(e,{caipNetwork:a}),C.StorageUtil.setActiveCaipNetworkId(a?.caipNetworkId),N.PublicStateController.set({activeChain:e,selectedNetworkId:a?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;let t=M.activeChain===e.chainNamespace;t||B.setIsSwitchingNamespace(!0);let a=M.chains.get(e.chainNamespace);M.activeChain=e.chainNamespace,M.activeCaipNetwork=e,B.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=a?.accountState?.address;if(r)M.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&M.activeCaipAddress){let{address:t}=o.ParseUtil.parseCaipAddress(M.activeCaipAddress);r=t,M.activeCaipAddress=`${e.caipNetworkId}:${r}`}else M.activeCaipAddress=void 0;B.setChainAccountData(e.chainNamespace,{address:r,caipAddress:M.activeCaipAddress}),P.resetSend(),N.PublicStateController.set({activeChain:M.activeChain,selectedNetworkId:M.activeCaipNetwork?.caipNetworkId}),C.StorageUtil.setActiveCaipNetworkId(e.caipNetworkId),B.checkIfSupportedNetwork(e.chainNamespace)||!A.OptionsController.state.enableNetworkSwitch||A.OptionsController.state.allowUnsupportedChain||u.ConnectionController.state.wcBasic||B.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=M.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;let t=e!==B.state.activeChain,a=B.getNetworkData(e)?.caipNetwork,r=B.getCaipNetworkByNamespace(e,a?.id);t&&r&&await B.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){let a=B.state.activeChain;if(!a)throw Error("ChainController:switchActiveNetwork - namespace is required");let n="AUTH"===S.ProviderController.getProviderId(M.activeChain),o=B.getAccountData(a)?.address,s=r.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(o&&e.chainNamespace===a||n&&s){let t=E.AdapterController.get(e.chainNamespace);if(!t)throw Error("Adapter not found");await t.switchNetwork({caipNetwork:e})}B.setActiveCaipNetwork(e)}catch(e){if(t)throw e}m.EventsController.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){let t=e||M.activeChain;if(!t)throw Error("Chain is required to get connection controller client");let a=M.chains.get(t);if(!a?.connectionControllerClient)throw Error("ConnectionController client not set");return a.connectionControllerClient},getNetworkProp(e,t){let a=M.chains.get(t)?.networkState;if(a)return a[e]},getRequestedCaipNetworks(e){let t=M.chains.get(e),{approvedCaipNetworkIds:a=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return d.CoreHelperUtil.sortRequestedNetworks(a,r).filter(e=>e?.id)},getAllRequestedCaipNetworks(){let e=[];return M.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let a=B.getRequestedCaipNetworks(t.namespace);e.push(...a)}),e},setRequestedCaipNetworks(e,t){B.setAdapterNetworkState(t,{requestedCaipNetworks:e});let a=Array.from(new Set(B.getAllRequestedCaipNetworks().map(e=>e.chainNamespace)));h.ConnectorController.filterByNamespaces(a)},getAllApprovedCaipNetworkIds(){let e=[];return M.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let a=B.getApprovedCaipNetworkIds(t.namespace);e.push(...a)}),e},getActiveCaipNetwork:e=>e?M.chains.get(e)?.networkState?.caipNetwork:M.activeCaipNetwork,getActiveCaipAddress:()=>M.activeCaipAddress,getApprovedCaipNetworkIds(e){let t=M.chains.get(e);return t?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){B.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){let a=t||M.activeCaipNetwork?.caipNetworkId,r=B.getRequestedCaipNetworks(e);return!r.length||r?.some(e=>e.caipNetworkId===a)},checkIfSupportedChainId(e){if(!M.activeChain)return!0;let t=B.getRequestedCaipNetworks(M.activeChain);return t?.some(t=>t.id===e)},checkIfSmartAccountEnabled(){let e=n.NetworkUtil.caipNetworkIdToNumber(M.activeCaipNetwork?.caipNetworkId);if(!M.activeChain||!e)return!1;let t=i.W3mFrameStorage.get(s.W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[];return!!t?.includes(e.toString())},showUnsupportedChainUI(){f.ModalController.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=M.activeCaipNetwork;return!!(e?.chainNamespace&&l.ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){B.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){if(!e)throw Error("Chain is required to set account prop");let t=B.state.chains.get(e)?.accountState?.preferredAccountType,a=A.OptionsController.state.defaultAccountTypes[e];M.activeCaipAddress=void 0,B.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:a||t,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),h.ConnectorController.removeConnectorId(e)},setIsSwitchingNamespace(e){M.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e=[];if(M.chains.forEach(t=>{r.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>e===t.namespace)&&t.namespace&&e.push(t.namespace)}),e.length>0){let t=e[0];return t?M.chains.get(t)?.caipNetworks?.[0]:void 0}},getAccountData(e){let t=e||M.activeChain;if(t)return B.state.chains.get(t)?.accountState},getNetworkData(e){let t=e||M.activeChain;if(t)return B.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;let a=B.state.chains.get(e),r=a?.caipNetworks?.find(e=>e.id.toString()===t?.toString());return r||a?.networkState?.caipNetwork||a?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let e=h.ConnectorController.state.filterByNamespace;return(e?[M.chains.get(e)]:Array.from(M.chains.values())).flatMap(e=>e?.caipNetworks||[]).map(e=>e.caipNetworkId)},getCaipNetworks:e=>e?B.getRequestedCaipNetworks(e):B.getAllRequestedCaipNetworks(),getCaipNetworkById:(e,t)=>W.getCaipNetworks(t).find(t=>t.id.toString()===e.toString()||t.caipNetworkId.toString()===e.toString()),setLastConnectedSIWECaipNetwork(e){M.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork:()=>M.lastConnectedSIWECaipNetwork,async fetchTokenBalance(e){let t=B.getAccountData();if(!t)return[];let a=B.state.activeCaipNetwork?.caipNetworkId,r=B.state.activeCaipNetwork?.chainNamespace,n=B.state.activeCaipAddress,o=n?d.CoreHelperUtil.getPlainAddress(n):void 0;if(B.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!d.CoreHelperUtil.isAllowedRetry(t.lastRetry,30*l.ConstantsUtil.ONE_SEC_MS))return B.setAccountProp("balanceLoading",!1,r),[];try{if(o&&a&&r){let e=await c.BalanceUtil.getMyTokensWithBalance();return B.setAccountProp("tokenBalance",e,r),B.setAccountProp("lastRetry",void 0,r),B.setAccountProp("balanceLoading",!1,r),e}}catch(t){B.setAccountProp("lastRetry",Date.now(),r),e?.(t),U.SnackController.showError("Token Balance Unavailable")}finally{B.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){let t=e.chainNamespace,a=!!B.getAccountData(t)?.caipAddress,n=B.getAllApprovedCaipNetworkIds(),o=!1!==B.getNetworkProp("supportsAllNetworks",t),s=h.ConnectorController.getConnectorId(t),i=h.ConnectorController.getAuthConnector(),c=s===r.ConstantsUtil.CONNECTOR_ID.AUTH&&i;return!!a&&!o&&!c&&!n?.includes(e.caipNetworkId)}},B=(0,p.withErrorBoundary)(W)},411249,e=>{"use strict";e.s(["CUSTOM_DEEPLINK_WALLETS",()=>r,"MobileWalletUtil",()=>n]);var t=e.i(401564),a=e.i(960398);let r={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},n={handleMobileDeeplinkRedirect(e,n){let o=window.location.href,s=encodeURIComponent(o);if(e===r.PHANTOM.id&&!("phantom"in window)){let e=o.startsWith("https")?"https":"http",t=o.split("/")[2],a=encodeURIComponent(`${e}://${t}`);window.location.href=`${r.PHANTOM.url}/ul/browse/${s}?ref=${a}`}if(e!==r.SOLFLARE.id||"solflare"in window||(window.location.href=`${r.SOLFLARE.url}/ul/v1/browse/${s}?ref=${s}`),n!==t.ConstantsUtil.CHAIN.SOLANA||e!==r.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${r.COINBASE.url}/dapp?cb_url=${s}`),n===t.ConstantsUtil.CHAIN.BITCOIN&&e===r.BINANCE.id&&!("binancew3w"in window)){let e=a.ChainController.state.activeCaipNetwork,t=window.btoa("/pages/browser/index"),n=window.btoa(`url=${s}&defaultChainId=${e?.id??1}`),o=new URL(r.BINANCE.deeplink);o.searchParams.set("appId",r.BINANCE.appId),o.searchParams.set("startPagePath",t),o.searchParams.set("startPageQuery",n);let i=new URL(r.BINANCE.url);i.searchParams.set("_dp",window.btoa(o.toString())),window.location.href=i.toString()}}}},886259,e=>{"use strict";e.s(["ApiController",()=>f]);var t=e.i(365801),a=e.i(742710),r=e.i(401564),n=e.i(436220),o=e.i(227302),s=e.i(364258),i=e.i(411249),c=e.i(758331),l=e.i(241845),d=e.i(960398),C=e.i(149454),p=e.i(653157),E=e.i(82283);let u=o.CoreHelperUtil.getApiUrl(),h=new s.FetchUtil({baseUrl:u,clientId:null}),m=(0,t.proxy)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),f={state:m,subscribeKey:(e,t)=>(0,a.subscribeKey)(m,e,t),_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:a}=E.OptionsController.state;return{projectId:e,st:t||"appkit",sv:a||"html-wagmi-4.2.2"}},_filterOutExtensions:e=>E.OptionsController.state.isUniversalProvider?e.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):e,async _fetchWalletImage(e){let t=`${h.baseUrl}/getWalletImage/${e}`,a=await h.getBlob({path:t,params:f._getSdkProperties()});l.AssetController.setWalletImage(e,URL.createObjectURL(a))},async _fetchNetworkImage(e){let t=`${h.baseUrl}/public/getAssetImage/${e}`,a=await h.getBlob({path:t,params:f._getSdkProperties()});l.AssetController.setNetworkImage(e,URL.createObjectURL(a))},async _fetchConnectorImage(e){let t=`${h.baseUrl}/public/getAssetImage/${e}`,a=await h.getBlob({path:t,params:f._getSdkProperties()});l.AssetController.setConnectorImage(e,URL.createObjectURL(a))},async _fetchCurrencyImage(e){let t=`${h.baseUrl}/public/getCurrencyImage/${e}`,a=await h.getBlob({path:t,params:f._getSdkProperties()});l.AssetController.setCurrencyImage(e,URL.createObjectURL(a))},async _fetchTokenImage(e){let t=`${h.baseUrl}/public/getTokenImage/${e}`,a=await h.getBlob({path:t,params:f._getSdkProperties()});l.AssetController.setTokenImage(e,URL.createObjectURL(a))},_filterWalletsByPlatform(e){let t=e.length,a=o.CoreHelperUtil.isMobile()?e?.filter(e=>!!e.mobile_link||!!e.webapp_link||Object.values(i.CUSTOM_DEEPLINK_WALLETS).map(e=>e.id).includes(e.id)):e,r=t-a.length;return{filteredWallets:a,mobileFilteredOutWalletsLength:r}},fetchProjectConfig:async()=>(await h.get({path:"/appkit/v1/config",params:f._getSdkProperties()})).features,async fetchUsage(){try{let{tier:e,isAboveMauLimit:t,isAboveRpcLimit:a}=(await h.get({path:"/appkit/v1/project-limits",params:f._getSdkProperties()})).planLimits;f.state.plan={tier:e,hasExceededUsageLimit:"starter"===e&&(t||a),limits:{isAboveRpcLimit:a,isAboveMauLimit:t}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await h.get({path:"/projects/v1/origins",params:f._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===r.ConstantsUtil.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:e});if(t>=r.ConstantsUtil.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw Error("SERVER_ERROR",{cause:e})}return[]}},async fetchNetworkImages(){let e=d.ChainController.getAllRequestedCaipNetworks(),t=e?.map(({assets:e})=>e?.imageId).filter(Boolean).filter(e=>!n.AssetUtil.getNetworkImageById(e));t&&await Promise.allSettled(t.map(e=>f._fetchNetworkImage(e)))},async fetchConnectorImages(){let{connectors:e}=C.ConnectorController.state,t=e.map(({imageId:e})=>e).filter(Boolean);await Promise.allSettled(t.map(e=>f._fetchConnectorImage(e)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(e=>f._fetchCurrencyImage(e)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(e=>f._fetchTokenImage(e)))},async fetchWallets(e){let t=e.exclude??[];f._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(i.CUSTOM_DEEPLINK_WALLETS).map(e=>e.id));let a=await h.get({path:"/getWallets",params:{...f._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:r,mobileFilteredOutWalletsLength:n}=f._filterWalletsByPlatform(a?.data);return{data:r||[],count:a?.count,mobileFilteredOutWalletsLength:n}},async prefetchWalletRanks(){let e=C.ConnectorController.state.connectors;if(!e?.length)return;let t={page:1,entries:20,badge:"certified"};if(t.names=e.map(e=>e.name).join(","),d.ChainController.state.activeChain===r.ConstantsUtil.CHAIN.EVM){let a=[...e.flatMap(e=>e.connectors?.map(e=>e.info?.rdns)||[]),...e.map(e=>e.info?.rdns)].filter(e=>"string"==typeof e&&e.length>0);a.length&&(t.rdns=a.join(","))}let{data:a}=await f.fetchWallets(t);m.explorerWallets=a,C.ConnectorController.extendConnectorsWithExplorerWallets(a);let n=d.ChainController.getRequestedCaipNetworkIds().join(",");m.explorerFilteredWallets=a.filter(e=>e.chains?.some(e=>n.includes(e)))},async fetchFeaturedWallets(){let{featuredWalletIds:e}=E.OptionsController.state;if(e?.length){let t={...f._getSdkProperties(),page:1,entries:e?.length??4,include:e},{data:a}=await f.fetchWallets(t),r=[...a].sort((t,a)=>e.indexOf(t.id)-e.indexOf(a.id)),n=r.map(e=>e.image_id).filter(Boolean);await Promise.allSettled(n.map(e=>f._fetchWalletImage(e))),m.featured=r,m.allFeatured=r}},async fetchRecommendedWallets(){try{m.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:a}=E.OptionsController.state,r=[...t??[],...a??[]].filter(Boolean),n=d.ChainController.getRequestedCaipNetworkIds().join(","),{data:o,count:s}=await f.fetchWallets({page:1,entries:4,include:e,exclude:r,chains:n}),i=c.StorageUtil.getRecentWallets(),l=o.map(e=>e.image_id).filter(Boolean),C=i.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...l,...C].map(e=>f._fetchWalletImage(e))),m.recommended=o,m.allRecommended=o,m.count=s??0}catch{}finally{m.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){let{includeWalletIds:t,excludeWalletIds:a,featuredWalletIds:r}=E.OptionsController.state,n=d.ChainController.getRequestedCaipNetworkIds().join(","),s=[...m.recommended.map(({id:e})=>e),...a??[],...r??[]].filter(Boolean),{data:i,count:c,mobileFilteredOutWalletsLength:l}=await f.fetchWallets({page:e,entries:40,include:t,exclude:s,chains:n});m.mobileFilteredOutWalletsLength=l+(m.mobileFilteredOutWalletsLength??0);let C=i.slice(0,20).map(e=>e.image_id).filter(Boolean);await Promise.allSettled(C.map(e=>f._fetchWalletImage(e))),m.wallets=o.CoreHelperUtil.uniqueBy([...m.wallets,...f._filterOutExtensions(i)],"id").filter(e=>e.chains?.some(e=>n.includes(e))),m.count=c>m.count?c:m.count,m.page=e},async initializeExcludedWallets({ids:e}){let t={page:1,entries:e.length,include:e},{data:a}=await f.fetchWallets(t);a&&a.forEach(e=>{m.excludedWallets.push({rdns:e.rdns,name:e.name})})},async searchWallet({search:e,badge:t}){let{includeWalletIds:a,excludeWalletIds:r}=E.OptionsController.state,n=d.ChainController.getRequestedCaipNetworkIds().join(",");m.search=[];let s={page:1,entries:100,search:e?.trim(),badge_type:t,include:a,exclude:r,chains:n},{data:i}=await f.fetchWallets(s);p.EventsController.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});let c=i.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...c.map(e=>f._fetchWalletImage(e)),o.CoreHelperUtil.wait(300)]),m.search=f._filterOutExtensions(i)},initPromise(e,t){let a=m.promises[e];return a||(m.promises[e]=t())},prefetch:({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:a=!0,fetchNetworkImages:r=!0,fetchWalletRanks:n=!0}={})=>Promise.allSettled([e&&f.initPromise("connectorImages",f.fetchConnectorImages),t&&f.initPromise("featuredWallets",f.fetchFeaturedWallets),a&&f.initPromise("recommendedWallets",f.fetchRecommendedWallets),r&&f.initPromise("networkImages",f.fetchNetworkImages),n&&f.initPromise("walletRanks",f.prefetchWalletRanks)].filter(Boolean)),prefetchAnalyticsConfig(){E.OptionsController.state.features?.analytics&&f.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await h.get({path:"/getAnalyticsConfig",params:f._getSdkProperties()});E.OptionsController.setFeatures({analytics:e})}catch(e){E.OptionsController.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){m.featured=m.allFeatured,m.recommended=m.allRecommended;return}let t=d.ChainController.getRequestedCaipNetworkIds().join(",");m.featured=m.allFeatured.filter(e=>e.chains?.some(e=>t.includes(e))),m.recommended=m.allRecommended.filter(e=>e.chains?.some(e=>t.includes(e))),m.filteredWallets=m.wallets.filter(e=>e.chains?.some(e=>t.includes(e)))},clearFilterByNamespaces(){m.filteredWallets=[]},setFilterByNamespace(e){if(!e){m.featured=m.allFeatured,m.recommended=m.allRecommended;return}let t=d.ChainController.getRequestedCaipNetworkIds().join(",");m.featured=m.allFeatured.filter(e=>e.chains?.some(e=>t.includes(e))),m.recommended=m.allRecommended.filter(e=>e.chains?.some(e=>t.includes(e))),m.filteredWallets=m.wallets.filter(e=>e.chains?.some(e=>t.includes(e)))}}}]);