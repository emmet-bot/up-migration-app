(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,535568,e=>{"use strict";var t=e.i(376527),r=e.i(82283);let a=new AbortController;e.s(["ErrorUtil",0,{EmbeddedWalletAbortController:a,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${(0,t.isSafe)()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${r.OptionsController.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systemâ€™s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>`An error occurred while connecting an inactive namespace ${e}: "${t}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}}])},542991,e=>{"use strict";let t;var r,a,s,n,i,o,l,d=e.i(150576),c=e.i(401564),u=e.i(979484),p=e.i(810923);(r=n||(n={})).assertEqual=e=>e,r.assertIs=function(e){},r.assertNever=function(e){throw Error()},r.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},r.getValidEnumValues=e=>{let t=r.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),a={};for(let r of t)a[r]=e[r];return r.objectValues(a)},r.objectValues=e=>r.objectKeys(e).map(function(t){return e[t]}),r.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},r.find=(e,t)=>{for(let r of e)if(t(r))return r},r.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,r.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},r.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(i||(i={})).mergeShapes=(e,t)=>({...e,...t});let h=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),m=e=>{switch(typeof e){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(e)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":if(Array.isArray(e))return h.array;if(null===e)return h.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return h.promise;if("u">typeof Map&&e instanceof Map)return h.map;if("u">typeof Set&&e instanceof Set)return h.set;if("u">typeof Date&&e instanceof Date)return h.date;return h.object;default:return h.unknown}},_=n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class g extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},a=e=>{for(let s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(a);else if("invalid_return_type"===s.code)a(s.returnTypeError);else if("invalid_arguments"===s.code)a(s.argumentsError);else if(0===s.path.length)r._errors.push(t(s));else{let e=r,a=0;for(;a<s.path.length;){let r=s.path[a];a===s.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(s))):e[r]=e[r]||{_errors:[]},e=e[r],a++}}};return a(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}g.create=e=>new g(e);let y=(e,t)=>{let r;switch(e.code){case _.invalid_type:r=e.received===h.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case _.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,n.jsonStringifyReplacer)}`;break;case _.unrecognized_keys:r=`Unrecognized key(s) in object: ${n.joinValues(e.keys,", ")}`;break;case _.invalid_union:r="Invalid input";break;case _.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${n.joinValues(e.options)}`;break;case _.invalid_enum_value:r=`Invalid enum value. Expected ${n.joinValues(e.options)}, received '${e.received}'`;break;case _.invalid_arguments:r="Invalid function arguments";break;case _.invalid_return_type:r="Invalid function return type";break;case _.invalid_date:r="Invalid date";break;case _.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:n.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case _.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case _.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case _.custom:r="Invalid input";break;case _.invalid_intersection_types:r="Intersection results could not be merged";break;case _.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case _.not_finite:r="Number must be finite";break;default:r=t.defaultError,n.assertNever(e)}return{message:r}},f=y;function v(){return f}let E=e=>{let{data:t,path:r,errorMaps:a,issueData:s}=e,n=[...r,...s.path||[]],i={...s,path:n},o="";for(let e of a.filter(e=>!!e).slice().reverse())o=e(i,{data:t,defaultError:o}).message;return{...s,path:n,message:s.message||o}};function C(e,t){let r=E({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,v(),y].filter(e=>!!e)});e.common.issues.push(r)}class b{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let a of t){if("aborted"===a.status)return A;"dirty"===a.status&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t)r.push({key:await e.key,value:await e.value});return b.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let a of t){let{key:t,value:s}=a;if("aborted"===t.status||"aborted"===s.status)return A;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==s.value||a.alwaysSet)&&(r[t.value]=s.value)}return{status:e.value,value:r}}}let A=Object.freeze({status:"aborted"}),R=e=>({status:"dirty",value:e}),T=e=>({status:"valid",value:e}),w=e=>"aborted"===e.status,S=e=>"dirty"===e.status,x=e=>"valid"===e.status,P=e=>"u">typeof Promise&&e instanceof Promise;(a=o||(o={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},a.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class N{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let I=(e,t)=>{if(x(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new g(e.common.issues);return this._error=t,this._error}}};function O(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:a,description:s}=e;if(t&&(r||a))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=a?a:t.defaultError}:{message:null!=r?r:t.defaultError},description:s}}class k{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return m(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:m(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new b,ctx:{common:e.parent.common,data:e.data,parsedType:m(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(P(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let a={common:{issues:[],async:null!=(r=null==t?void 0:t.async)&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:m(e)},s=this._parseSync({data:e,path:a.path,parent:a});return I(a,s)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:m(e)},a=this._parse({data:e,path:r.path,parent:r});return I(r,await (P(a)?a:Promise.resolve(a)))}refine(e,t){return this._refinement((r,a)=>{let s=e(r),n=()=>a.addIssue({code:_.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"u">typeof Promise&&s instanceof Promise?s.then(e=>!!e||(n(),!1)):!!s||(n(),!1)})}refinement(e,t){return this._refinement((r,a)=>!!e(r)||(a.addIssue("function"==typeof t?t(r,a):t),!1))}_refinement(e){return new ey({schema:this,typeName:l.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ef.create(this,this._def)}nullable(){return ev.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ee.create(this,this._def)}promise(){return eg.create(this,this._def)}or(e){return er.create([this,e],this._def)}and(e){return en.create(this,e,this._def)}transform(e){return new ey({...O(this._def),schema:this,typeName:l.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eE({...O(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:l.ZodDefault})}brand(){return new eR({typeName:l.ZodBranded,type:this,...O(this._def)})}catch(e){return new eC({...O(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:l.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eT.create(this,e)}readonly(){return ew.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let F=/^c[^\s-]{8,}$/i,L=/^[a-z][a-z0-9]*$/,U=/^[0-9A-HJKMNP-TV-Z]{26}$/,j=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,M=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Z=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,D=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,W=e=>{if(e.precision)if(e.offset)return RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`);else return RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`);if(0===e.precision)if(e.offset)return RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$");else return RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$");return e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")};class K extends k{_parse(e){let r;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.string,received:t.parsedType}),A}let a=new b;for(let o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(C(r=this._getOrReturnCtx(e,r),{code:_.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if("max"===o.kind)e.data.length>o.value&&(C(r=this._getOrReturnCtx(e,r),{code:_.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if("length"===o.kind){let t=e.data.length>o.value,s=e.data.length<o.value;(t||s)&&(r=this._getOrReturnCtx(e,r),t?C(r,{code:_.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):s&&C(r,{code:_.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),a.dirty())}else if("email"===o.kind)M.test(e.data)||(C(r=this._getOrReturnCtx(e,r),{validation:"email",code:_.invalid_string,message:o.message}),a.dirty());else if("emoji"===o.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(C(r=this._getOrReturnCtx(e,r),{validation:"emoji",code:_.invalid_string,message:o.message}),a.dirty());else if("uuid"===o.kind)j.test(e.data)||(C(r=this._getOrReturnCtx(e,r),{validation:"uuid",code:_.invalid_string,message:o.message}),a.dirty());else if("cuid"===o.kind)F.test(e.data)||(C(r=this._getOrReturnCtx(e,r),{validation:"cuid",code:_.invalid_string,message:o.message}),a.dirty());else if("cuid2"===o.kind)L.test(e.data)||(C(r=this._getOrReturnCtx(e,r),{validation:"cuid2",code:_.invalid_string,message:o.message}),a.dirty());else if("ulid"===o.kind)U.test(e.data)||(C(r=this._getOrReturnCtx(e,r),{validation:"ulid",code:_.invalid_string,message:o.message}),a.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(t){C(r=this._getOrReturnCtx(e,r),{validation:"url",code:_.invalid_string,message:o.message}),a.dirty()}else if("regex"===o.kind)o.regex.lastIndex=0,o.regex.test(e.data)||(C(r=this._getOrReturnCtx(e,r),{validation:"regex",code:_.invalid_string,message:o.message}),a.dirty());else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(C(r=this._getOrReturnCtx(e,r),{code:_.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),a.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(C(r=this._getOrReturnCtx(e,r),{code:_.invalid_string,validation:{startsWith:o.value},message:o.message}),a.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(C(r=this._getOrReturnCtx(e,r),{code:_.invalid_string,validation:{endsWith:o.value},message:o.message}),a.dirty());else if("datetime"===o.kind)W(o).test(e.data)||(C(r=this._getOrReturnCtx(e,r),{code:_.invalid_string,validation:"datetime",message:o.message}),a.dirty());else if("ip"===o.kind){var s,i;s=e.data,!(("v4"===(i=o.version)||!i)&&Z.test(s)||("v6"===i||!i)&&D.test(s))&&1&&(C(r=this._getOrReturnCtx(e,r),{validation:"ip",code:_.invalid_string,message:o.message}),a.dirty())}else n.assertNever(o);return{status:a.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:_.invalid_string,...o.errToObj(r)})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...o.errToObj(e)})}url(e){return this._addCheck({kind:"url",...o.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...o.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...o.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...o.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...o.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...o.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...o.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,...o.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...o.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...o.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...o.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...o.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...o.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...o.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...o.errToObj(t)})}nonempty(e){return this.min(1,o.errToObj(e))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>{var t;return new K({checks:[],typeName:l.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...O(e)})};class $ extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.number,received:t.parsedType}),A}let r=new b;for(let a of this._def.checks)"int"===a.kind?n.isInteger(e.data)||(C(t=this._getOrReturnCtx(e,t),{code:_.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(C(t=this._getOrReturnCtx(e,t),{code:_.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(C(t=this._getOrReturnCtx(e,t),{code:_.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):"multipleOf"===a.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,s=r>a?r:a;return parseInt(e.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}(e.data,a.value)&&(C(t=this._getOrReturnCtx(e,t),{code:_.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(C(t=this._getOrReturnCtx(e,t),{code:_.not_finite,message:a.message}),r.dirty()):n.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,o.toString(t))}gt(e,t){return this.setLimit("min",e,!1,o.toString(t))}lte(e,t){return this.setLimit("max",e,!0,o.toString(t))}lt(e,t){return this.setLimit("max",e,!1,o.toString(t))}setLimit(e,t,r,a){return new $({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:o.toString(a)}]})}_addCheck(e){return new $({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:o.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:o.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:o.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:o.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:o.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:o.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:o.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:o.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:o.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&n.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}$.create=e=>new $({checks:[],typeName:l.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class V extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==h.bigint){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.bigint,received:t.parsedType}),A}let r=new b;for(let a of this._def.checks)"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(C(t=this._getOrReturnCtx(e,t),{code:_.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(C(t=this._getOrReturnCtx(e,t),{code:_.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(C(t=this._getOrReturnCtx(e,t),{code:_.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):n.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,o.toString(t))}gt(e,t){return this.setLimit("min",e,!1,o.toString(t))}lte(e,t){return this.setLimit("max",e,!0,o.toString(t))}lt(e,t){return this.setLimit("max",e,!1,o.toString(t))}setLimit(e,t,r,a){return new V({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:o.toString(a)}]})}_addCheck(e){return new V({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:o.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:o.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:o.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:o.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:o.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}V.create=e=>{var t;return new V({checks:[],typeName:l.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...O(e)})};class B extends k{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.boolean){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.boolean,received:t.parsedType}),A}return T(e.data)}}B.create=e=>new B({typeName:l.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class H extends k{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.date,received:t.parsedType}),A}if(isNaN(e.data.getTime()))return C(this._getOrReturnCtx(e),{code:_.invalid_date}),A;let r=new b;for(let a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(C(t=this._getOrReturnCtx(e,t),{code:_.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(C(t=this._getOrReturnCtx(e,t),{code:_.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):n.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new H({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:o.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:o.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}H.create=e=>new H({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:l.ZodDate,...O(e)});class G extends k{_parse(e){if(this._getType(e)!==h.symbol){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.symbol,received:t.parsedType}),A}return T(e.data)}}G.create=e=>new G({typeName:l.ZodSymbol,...O(e)});class Y extends k{_parse(e){if(this._getType(e)!==h.undefined){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.undefined,received:t.parsedType}),A}return T(e.data)}}Y.create=e=>new Y({typeName:l.ZodUndefined,...O(e)});class z extends k{_parse(e){if(this._getType(e)!==h.null){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.null,received:t.parsedType}),A}return T(e.data)}}z.create=e=>new z({typeName:l.ZodNull,...O(e)});class q extends k{constructor(){super(...arguments),this._any=!0}_parse(e){return T(e.data)}}q.create=e=>new q({typeName:l.ZodAny,...O(e)});class J extends k{constructor(){super(...arguments),this._unknown=!0}_parse(e){return T(e.data)}}J.create=e=>new J({typeName:l.ZodUnknown,...O(e)});class Q extends k{_parse(e){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.never,received:t.parsedType}),A}}Q.create=e=>new Q({typeName:l.ZodNever,...O(e)});class X extends k{_parse(e){if(this._getType(e)!==h.undefined){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.void,received:t.parsedType}),A}return T(e.data)}}X.create=e=>new X({typeName:l.ZodVoid,...O(e)});class ee extends k{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==h.array)return C(t,{code:_.invalid_type,expected:h.array,received:t.parsedType}),A;if(null!==a.exactLength){let e=t.data.length>a.exactLength.value,s=t.data.length<a.exactLength.value;(e||s)&&(C(t,{code:e?_.too_big:_.too_small,minimum:s?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(C(t,{code:_.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(C(t,{code:_.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>a.type._parseAsync(new N(t,e,t.path,r)))).then(e=>b.mergeArray(r,e));let s=[...t.data].map((e,r)=>a.type._parseSync(new N(t,e,t.path,r)));return b.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new ee({...this._def,minLength:{value:e,message:o.toString(t)}})}max(e,t){return new ee({...this._def,maxLength:{value:e,message:o.toString(t)}})}length(e,t){return new ee({...this._def,exactLength:{value:e,message:o.toString(t)}})}nonempty(e){return this.min(1,e)}}ee.create=(e,t)=>new ee({type:e,minLength:null,maxLength:null,exactLength:null,typeName:l.ZodArray,...O(t)});class et extends k{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=n.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==h.object){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.object,received:t.parsedType}),A}let{status:t,ctx:r}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),n=[];if(!(this._def.catchall instanceof Q&&"strip"===this._def.unknownKeys))for(let e in r.data)s.includes(e)||n.push(e);let i=[];for(let e of s){let t=a[e],s=r.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new N(r,s,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Q){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)i.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(C(r,{code:_.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let a=r.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new N(r,a,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of i){let r=await t.key;e.push({key:r,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>b.mergeObjectSync(t,e)):b.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return o.errToObj,new et({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var a,s,n,i;let l=null!=(n=null==(s=(a=this._def).errorMap)?void 0:s.call(a,t,r).message)?n:r.defaultError;return"unrecognized_keys"===t.code?{message:null!=(i=o.errToObj(e).message)?i:l}:{message:l}}}:{}})}strip(){return new et({...this._def,unknownKeys:"strip"})}passthrough(){return new et({...this._def,unknownKeys:"passthrough"})}extend(e){return new et({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:l.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new et({...this._def,catchall:e})}pick(e){let t={};return n.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new et({...this._def,shape:()=>t})}omit(e){let t={};return n.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new et({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof et){let r={};for(let a in t.shape){let s=t.shape[a];r[a]=ef.create(e(s))}return new et({...t._def,shape:()=>r})}if(t instanceof ee)return new ee({...t._def,type:e(t.element)});if(t instanceof ef)return ef.create(e(t.unwrap()));if(t instanceof ev)return ev.create(e(t.unwrap()));if(t instanceof ei)return ei.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};return n.objectKeys(this.shape).forEach(r=>{let a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}),new et({...this._def,shape:()=>t})}required(e){let t={};return n.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ef;)e=e._def.innerType;t[r]=e}}),new et({...this._def,shape:()=>t})}keyof(){return eh(n.objectKeys(this.shape))}}et.create=(e,t)=>new et({shape:()=>e,unknownKeys:"strip",catchall:Q.create(),typeName:l.ZodObject,...O(t)}),et.strictCreate=(e,t)=>new et({shape:()=>e,unknownKeys:"strict",catchall:Q.create(),typeName:l.ZodObject,...O(t)}),et.lazycreate=(e,t)=>new et({shape:e,unknownKeys:"strip",catchall:Q.create(),typeName:l.ZodObject,...O(t)});class er extends k{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new g(e.ctx.common.issues));return C(t,{code:_.invalid_union,unionErrors:r}),A});{let e,a=[];for(let s of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=s._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&a.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let s=a.map(e=>new g(e));return C(t,{code:_.invalid_union,unionErrors:s}),A}}get options(){return this._def.options}}er.create=(e,t)=>new er({options:e,typeName:l.ZodUnion,...O(t)});let ea=e=>{if(e instanceof eu)return ea(e.schema);if(e instanceof ey)return ea(e.innerType());if(e instanceof ep)return[e.value];if(e instanceof em)return e.options;if(e instanceof e_)return Object.keys(e.enum);else if(e instanceof eE)return ea(e._def.innerType);else if(e instanceof Y)return[void 0];else if(e instanceof z)return[null];else return null};class es extends k{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.object)return C(t,{code:_.invalid_type,expected:h.object,received:t.parsedType}),A;let r=this.discriminator,a=t.data[r],s=this.optionsMap.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(C(t,{code:_.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),A)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let a=new Map;for(let r of t){let t=ea(r.shape[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of t){if(a.has(s))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);a.set(s,r)}}return new es({typeName:l.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...O(r)})}}class en extends k{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=(e,a)=>{if(w(e)||w(a))return A;let s=function e(t,r){let a=m(t),s=m(r);if(t===r)return{valid:!0,data:t};if(a===h.object&&s===h.object){let a=n.objectKeys(r),s=n.objectKeys(t).filter(e=>-1!==a.indexOf(e)),i={...t,...r};for(let a of s){let s=e(t[a],r[a]);if(!s.valid)return{valid:!1};i[a]=s.data}return{valid:!0,data:i}}if(a===h.array&&s===h.array){if(t.length!==r.length)return{valid:!1};let a=[];for(let s=0;s<t.length;s++){let n=e(t[s],r[s]);if(!n.valid)return{valid:!1};a.push(n.data)}return{valid:!0,data:a}}if(a===h.date&&s===h.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,a.value);return s.valid?((S(e)||S(a))&&t.dirty(),{status:t.value,value:s.data}):(C(r,{code:_.invalid_intersection_types}),A)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>a(e,t)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}en.create=(e,t,r)=>new en({left:e,right:t,typeName:l.ZodIntersection,...O(r)});class ei extends k{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.array)return C(r,{code:_.invalid_type,expected:h.array,received:r.parsedType}),A;if(r.data.length<this._def.items.length)return C(r,{code:_.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),A;!this._def.rest&&r.data.length>this._def.items.length&&(C(r,{code:_.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...r.data].map((e,t)=>{let a=this._def.items[t]||this._def.rest;return a?a._parse(new N(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(a).then(e=>b.mergeArray(t,e)):b.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new ei({...this._def,rest:e})}}ei.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ei({items:e,typeName:l.ZodTuple,rest:null,...O(t)})};class eo extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.object)return C(r,{code:_.invalid_type,expected:h.object,received:r.parsedType}),A;let a=[],s=this._def.keyType,n=this._def.valueType;for(let e in r.data)a.push({key:s._parse(new N(r,e,r.path,e)),value:n._parse(new N(r,r.data[e],r.path,e))});return r.common.async?b.mergeObjectAsync(t,a):b.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return new eo(t instanceof k?{keyType:e,valueType:t,typeName:l.ZodRecord,...O(r)}:{keyType:K.create(),valueType:e,typeName:l.ZodRecord,...O(t)})}}class el extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.map)return C(r,{code:_.invalid_type,expected:h.map,received:r.parsedType}),A;let a=this._def.keyType,s=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:a._parse(new N(r,e,r.path,[n,"key"])),value:s._parse(new N(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let a=await r.key,s=await r.value;if("aborted"===a.status||"aborted"===s.status)return A;("dirty"===a.status||"dirty"===s.status)&&t.dirty(),e.set(a.value,s.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let a=r.key,s=r.value;if("aborted"===a.status||"aborted"===s.status)return A;("dirty"===a.status||"dirty"===s.status)&&t.dirty(),e.set(a.value,s.value)}return{status:t.value,value:e}}}}el.create=(e,t,r)=>new el({valueType:t,keyType:e,typeName:l.ZodMap,...O(r)});class ed extends k{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.set)return C(r,{code:_.invalid_type,expected:h.set,received:r.parsedType}),A;let a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&(C(r,{code:_.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&(C(r,{code:_.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let s=this._def.valueType;function n(e){let r=new Set;for(let a of e){if("aborted"===a.status)return A;"dirty"===a.status&&t.dirty(),r.add(a.value)}return{status:t.value,value:r}}let i=[...r.data.values()].map((e,t)=>s._parse(new N(r,e,r.path,t)));return r.common.async?Promise.all(i).then(e=>n(e)):n(i)}min(e,t){return new ed({...this._def,minSize:{value:e,message:o.toString(t)}})}max(e,t){return new ed({...this._def,maxSize:{value:e,message:o.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ed.create=(e,t)=>new ed({valueType:e,minSize:null,maxSize:null,typeName:l.ZodSet,...O(t)});class ec extends k{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.function)return C(t,{code:_.invalid_type,expected:h.function,received:t.parsedType}),A;function r(e,r){return E({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,v(),y].filter(e=>!!e),issueData:{code:_.invalid_arguments,argumentsError:r}})}function a(e,r){return E({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,v(),y].filter(e=>!!e),issueData:{code:_.invalid_return_type,returnTypeError:r}})}let s={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof eg){let e=this;return T(async function(...t){let i=new g([]),o=await e._def.args.parseAsync(t,s).catch(e=>{throw i.addIssue(r(t,e)),i}),l=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(l,s).catch(e=>{throw i.addIssue(a(l,e)),i})})}{let e=this;return T(function(...t){let i=e._def.args.safeParse(t,s);if(!i.success)throw new g([r(t,i.error)]);let o=Reflect.apply(n,this,i.data),l=e._def.returns.safeParse(o,s);if(!l.success)throw new g([a(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ec({...this._def,args:ei.create(e).rest(J.create())})}returns(e){return new ec({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ec({args:e||ei.create([]).rest(J.create()),returns:t||J.create(),typeName:l.ZodFunction,...O(r)})}}class eu extends k{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eu.create=(e,t)=>new eu({getter:e,typeName:l.ZodLazy,...O(t)});class ep extends k{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return C(t,{received:t.data,code:_.invalid_literal,expected:this._def.value}),A}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eh(e,t){return new em({values:e,typeName:l.ZodEnum,...O(t)})}ep.create=(e,t)=>new ep({value:e,typeName:l.ZodLiteral,...O(t)});class em extends k{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return C(t,{expected:n.joinValues(r),received:t.parsedType,code:_.invalid_type}),A}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return C(t,{received:t.data,code:_.invalid_enum_value,options:r}),A}return T(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return em.create(e)}exclude(e){return em.create(this.options.filter(t=>!e.includes(t)))}}em.create=eh;class e_ extends k{_parse(e){let t=n.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==h.string&&r.parsedType!==h.number){let e=n.objectValues(t);return C(r,{expected:n.joinValues(e),received:r.parsedType,code:_.invalid_type}),A}if(-1===t.indexOf(e.data)){let e=n.objectValues(t);return C(r,{received:r.data,code:_.invalid_enum_value,options:e}),A}return T(e.data)}get enum(){return this._def.values}}e_.create=(e,t)=>new e_({values:e,typeName:l.ZodNativeEnum,...O(t)});class eg extends k{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==h.promise&&!1===t.common.async?(C(t,{code:_.invalid_type,expected:h.promise,received:t.parsedType}),A):T((t.parsedType===h.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eg.create=(e,t)=>new eg({type:e,typeName:l.ZodPromise,...O(t)});class ey extends k{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===l.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:e=>{C(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===a.type){let e=a.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:r.path,parent:r})):this._def.schema._parseSync({data:e,path:r.path,parent:r})}if("refinement"===a.type){let e=e=>{let t=a.refinement(e,s);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?A:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===a.status?A:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}}if("transform"===a.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>x(e)?Promise.resolve(a.transform(e.value,s)).then(e=>({status:t.value,value:e})):e);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!x(e))return e;let n=a.transform(e.value,s);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}n.assertNever(a)}}ey.create=(e,t,r)=>new ey({schema:e,typeName:l.ZodEffects,effect:t,...O(r)}),ey.createWithPreprocess=(e,t,r)=>new ey({schema:t,effect:{type:"preprocess",transform:e},typeName:l.ZodEffects,...O(r)});class ef extends k{_parse(e){return this._getType(e)===h.undefined?T(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ef.create=(e,t)=>new ef({innerType:e,typeName:l.ZodOptional,...O(t)});class ev extends k{_parse(e){return this._getType(e)===h.null?T(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ev.create=(e,t)=>new ev({innerType:e,typeName:l.ZodNullable,...O(t)});class eE extends k{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===h.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eE.create=(e,t)=>new eE({innerType:e,typeName:l.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...O(t)});class eC extends k{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return P(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new g(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new g(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eC.create=(e,t)=>new eC({innerType:e,typeName:l.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...O(t)});class eb extends k{_parse(e){if(this._getType(e)!==h.nan){let t=this._getOrReturnCtx(e);return C(t,{code:_.invalid_type,expected:h.nan,received:t.parsedType}),A}return{status:"valid",value:e.data}}}eb.create=e=>new eb({typeName:l.ZodNaN,...O(e)});let eA=Symbol("zod_brand");class eR extends k{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eT extends k{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?A:"dirty"===e.status?(t.dirty(),R(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?A:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eT({in:e,out:t,typeName:l.ZodPipeline})}}class ew extends k{_parse(e){let t=this._def.innerType._parse(e);return x(t)&&(t.value=Object.freeze(t.value)),t}}ew.create=(e,t)=>new ew({innerType:e,typeName:l.ZodReadonly,...O(t)});let eS=(e,t={},r)=>e?q.create().superRefine((a,s)=>{var n,i;if(!e(a)){let e="function"==typeof t?t(a):"string"==typeof t?{message:t}:t,o=null==(i=null!=(n=e.fatal)?n:r)||i,l="string"==typeof e?{message:e}:e;s.addIssue({code:"custom",...l,fatal:o})}}):q.create(),ex={object:et.lazycreate};(s=l||(l={})).ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly";let eP=K.create,eN=$.create,eI=eb.create,eO=V.create,ek=B.create,eF=H.create,eL=G.create,eU=Y.create,ej=z.create,eM=q.create,eZ=J.create,eD=Q.create,eW=X.create,eK=ee.create,e$=et.create,eV=et.strictCreate,eB=er.create,eH=es.create,eG=en.create,eY=ei.create,ez=eo.create,eq=el.create,eJ=ed.create,eQ=ec.create,eX=eu.create,e0=ep.create,e3=em.create,e1=e_.create,e5=eg.create,e2=ey.create,e4=ef.create,e9=ev.create,e6=ey.createWithPreprocess,e8=eT.create;var e7=Object.freeze({__proto__:null,defaultErrorMap:y,setErrorMap:function(e){f=e},getErrorMap:v,makeIssue:E,EMPTY_PATH:[],addIssueToContext:C,ParseStatus:b,INVALID:A,DIRTY:R,OK:T,isAborted:w,isDirty:S,isValid:x,isAsync:P,get util(){return n},get objectUtil(){return i},ZodParsedType:h,getParsedType:m,ZodType:k,ZodString:K,ZodNumber:$,ZodBigInt:V,ZodBoolean:B,ZodDate:H,ZodSymbol:G,ZodUndefined:Y,ZodNull:z,ZodAny:q,ZodUnknown:J,ZodNever:Q,ZodVoid:X,ZodArray:ee,ZodObject:et,ZodUnion:er,ZodDiscriminatedUnion:es,ZodIntersection:en,ZodTuple:ei,ZodRecord:eo,ZodMap:el,ZodSet:ed,ZodFunction:ec,ZodLazy:eu,ZodLiteral:ep,ZodEnum:em,ZodNativeEnum:e_,ZodPromise:eg,ZodEffects:ey,ZodTransformer:ey,ZodOptional:ef,ZodNullable:ev,ZodDefault:eE,ZodCatch:eC,ZodNaN:eb,BRAND:eA,ZodBranded:eR,ZodPipeline:eT,ZodReadonly:ew,custom:eS,Schema:k,ZodSchema:k,late:ex,get ZodFirstPartyTypeKind(){return l},coerce:{string:e=>K.create({...e,coerce:!0}),number:e=>$.create({...e,coerce:!0}),boolean:e=>B.create({...e,coerce:!0}),bigint:e=>V.create({...e,coerce:!0}),date:e=>H.create({...e,coerce:!0})},any:eM,array:eK,bigint:eO,boolean:ek,date:eF,discriminatedUnion:eH,effect:e2,enum:e3,function:eQ,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>eS(t=>t instanceof e,t),intersection:eG,lazy:eX,literal:e0,map:eq,nan:eI,nativeEnum:e1,never:eD,null:ej,nullable:e9,number:eN,object:e$,oboolean:()=>ek().optional(),onumber:()=>eN().optional(),optional:e4,ostring:()=>eP().optional(),pipeline:e8,preprocess:e6,promise:e5,record:ez,set:eJ,strictObject:eV,string:eP,symbol:eL,transformer:e2,tuple:eY,undefined:eU,union:eB,unknown:eZ,void:eW,NEVER:A,ZodIssueCode:_,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:g});let te=e7.object({message:e7.string()});function tt(e){return e7.literal(u.W3mFrameConstants[e])}let tr=e7.object({serializedMessage:e7.string().optional(),accountAddress:e7.string(),chainId:e7.string(),notBefore:e7.string().optional(),domain:e7.string(),uri:e7.string(),version:e7.string(),nonce:e7.string(),statement:e7.string().optional(),resources:e7.array(e7.string()).optional(),requestId:e7.string().optional(),issuedAt:e7.string().optional(),expirationTime:e7.string().optional()});e7.object({accessList:e7.array(e7.string()),blockHash:e7.string().nullable(),blockNumber:e7.string().nullable(),chainId:e7.string().or(e7.number()),from:e7.string(),gas:e7.string(),hash:e7.string(),input:e7.string().nullable(),maxFeePerGas:e7.string(),maxPriorityFeePerGas:e7.string(),nonce:e7.string(),r:e7.string(),s:e7.string(),to:e7.string(),transactionIndex:e7.string().nullable(),type:e7.string(),v:e7.string(),value:e7.string()});let ta=e7.object({chainId:e7.string().or(e7.number()),rpcUrl:e7.optional(e7.string())}),ts=e7.object({email:e7.string().email()}),tn=e7.object({otp:e7.string()}),ti=e7.object({uri:e7.string(),preferredAccountType:e7.optional(e7.string()),chainId:e7.optional(e7.string().or(e7.number())),siwxMessage:e7.optional(tr),rpcUrl:e7.optional(e7.string())}),to=e7.object({chainId:e7.optional(e7.string().or(e7.number())),preferredAccountType:e7.optional(e7.string()),socialUri:e7.optional(e7.string()),siwxMessage:e7.optional(tr),rpcUrl:e7.optional(e7.string())}),tl=e7.object({provider:e7.enum(["google","github","apple","facebook","x","discord"])}),td=e7.object({email:e7.string().email()}),tc=e7.object({otp:e7.string()}),tu=e7.object({otp:e7.string()}),tp=e7.object({themeMode:e7.optional(e7.enum(["light","dark"])),themeVariables:e7.optional(e7.record(e7.string(),e7.string().or(e7.number()))),w3mThemeVariables:e7.optional(e7.record(e7.string(),e7.string()))}),th=e7.object({metadata:e7.object({name:e7.string(),description:e7.string(),url:e7.string(),icons:e7.array(e7.string())}).optional(),sdkVersion:e7.string().optional(),sdkType:e7.string().optional(),projectId:e7.string()}),tm=e7.object({type:e7.string()}),t_=e7.object({action:e7.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),tg=e7.object({url:e7.string()}),ty=e7.object({userName:e7.string()}),tf=e7.object({email:e7.string().optional().nullable(),address:e7.string(),chainId:e7.string().or(e7.number()),accounts:e7.array(e7.object({address:e7.string(),type:e7.enum([u.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,u.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:e7.string().optional().nullable(),preferredAccountType:e7.optional(e7.string()),signature:e7.string().optional(),message:e7.string().optional(),siwxMessage:e7.optional(tr)}),tv=e7.object({action:e7.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),tE=e7.object({email:e7.string().email().optional().nullable(),address:e7.string(),chainId:e7.string().or(e7.number()),smartAccountDeployed:e7.optional(e7.boolean()),accounts:e7.array(e7.object({address:e7.string(),type:e7.enum([u.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,u.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:e7.optional(e7.string()),signature:e7.string().optional(),message:e7.string().optional(),siwxMessage:e7.optional(tr)}),tC=e7.object({uri:e7.string()}),tb=e7.object({isConnected:e7.boolean()}),tA=e7.object({chainId:e7.string().or(e7.number())}),tR=e7.object({chainId:e7.string().or(e7.number())}),tT=e7.object({newEmail:e7.string().email()}),tw=e7.object({smartAccountEnabledNetworks:e7.array(e7.number())});e7.object({address:e7.string(),isDeployed:e7.boolean()});let tS=e7.object({version:e7.string().optional()}),tx=e7.object({type:e7.string(),address:e7.string()}),tP=e7.any(),tN=e7.object({method:e7.literal("eth_accounts")}),tI=e7.object({method:e7.literal("eth_blockNumber")}),tO=e7.object({method:e7.literal("eth_call"),params:e7.array(e7.any())}),tk=e7.object({method:e7.literal("eth_chainId")}),tF=e7.object({method:e7.literal("eth_estimateGas"),params:e7.array(e7.any())}),tL=e7.object({method:e7.literal("eth_feeHistory"),params:e7.array(e7.any())}),tU=e7.object({method:e7.literal("eth_gasPrice")}),tj=e7.object({method:e7.literal("eth_getAccount"),params:e7.array(e7.any())}),tM=e7.object({method:e7.literal("eth_getBalance"),params:e7.array(e7.any())}),tZ=e7.object({method:e7.literal("eth_getBlockByHash"),params:e7.array(e7.any())}),tD=e7.object({method:e7.literal("eth_getBlockByNumber"),params:e7.array(e7.any())}),tW=e7.object({method:e7.literal("eth_getBlockReceipts"),params:e7.array(e7.any())}),tK=e7.object({method:e7.literal("eth_getBlockTransactionCountByHash"),params:e7.array(e7.any())}),t$=e7.object({method:e7.literal("eth_getBlockTransactionCountByNumber"),params:e7.array(e7.any())}),tV=e7.object({method:e7.literal("eth_getCode"),params:e7.array(e7.any())}),tB=e7.object({method:e7.literal("eth_getFilterChanges"),params:e7.array(e7.any())}),tH=e7.object({method:e7.literal("eth_getFilterLogs"),params:e7.array(e7.any())}),tG=e7.object({method:e7.literal("eth_getLogs"),params:e7.array(e7.any())}),tY=e7.object({method:e7.literal("eth_getProof"),params:e7.array(e7.any())}),tz=e7.object({method:e7.literal("eth_getStorageAt"),params:e7.array(e7.any())}),tq=e7.object({method:e7.literal("eth_getTransactionByBlockHashAndIndex"),params:e7.array(e7.any())}),tJ=e7.object({method:e7.literal("eth_getTransactionByBlockNumberAndIndex"),params:e7.array(e7.any())}),tQ=e7.object({method:e7.literal("eth_getTransactionByHash"),params:e7.array(e7.any())}),tX=e7.object({method:e7.literal("eth_getTransactionCount"),params:e7.array(e7.any())}),t0=e7.object({method:e7.literal("eth_getTransactionReceipt"),params:e7.array(e7.any())}),t3=e7.object({method:e7.literal("eth_getUncleCountByBlockHash"),params:e7.array(e7.any())}),t1=e7.object({method:e7.literal("eth_getUncleCountByBlockNumber"),params:e7.array(e7.any())}),t5=e7.object({method:e7.literal("eth_maxPriorityFeePerGas")}),t2=e7.object({method:e7.literal("eth_newBlockFilter")}),t4=e7.object({method:e7.literal("eth_newFilter"),params:e7.array(e7.any())}),t9=e7.object({method:e7.literal("eth_newPendingTransactionFilter")}),t6=e7.object({method:e7.literal("eth_sendRawTransaction"),params:e7.array(e7.any())}),t8=e7.object({method:e7.literal("eth_syncing"),params:e7.array(e7.any())}),t7=e7.object({method:e7.literal("eth_uninstallFilter"),params:e7.array(e7.any())}),re=e7.object({method:e7.literal("personal_sign"),params:e7.array(e7.any())}),rt=e7.object({method:e7.literal("eth_signTypedData_v4"),params:e7.array(e7.any())}),rr=e7.object({method:e7.literal("eth_sendTransaction"),params:e7.array(e7.any())}),ra=e7.object({method:e7.literal("solana_signMessage"),params:e7.object({message:e7.string(),pubkey:e7.string()})}),rs=e7.object({method:e7.literal("solana_signTransaction"),params:e7.object({transaction:e7.string()})}),rn=e7.object({method:e7.literal("solana_signAllTransactions"),params:e7.object({transactions:e7.array(e7.string())})}),ri=e7.object({method:e7.literal("solana_signAndSendTransaction"),params:e7.object({transaction:e7.string(),options:e7.object({skipPreflight:e7.boolean().optional(),preflightCommitment:e7.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:e7.number().optional(),minContextSlot:e7.number().optional()}).optional()})}),ro=e7.object({method:e7.literal("wallet_sendCalls"),params:e7.array(e7.object({chainId:e7.string().or(e7.number()).optional(),from:e7.string().optional(),version:e7.string().optional(),capabilities:e7.any().optional(),calls:e7.array(e7.object({to:e7.string().startsWith("0x"),data:e7.string().startsWith("0x").optional(),value:e7.string().optional()}))}))}),rl=e7.object({method:e7.literal("wallet_getCallsStatus"),params:e7.array(e7.string())}),rd=e7.object({method:e7.literal("wallet_getCapabilities"),params:e7.array(e7.string().or(e7.number()).optional()).optional()}),rc=e7.object({method:e7.literal("wallet_grantPermissions"),params:e7.array(e7.any())}),ru=e7.object({method:e7.literal("wallet_revokePermissions"),params:e7.any()}),rp=e7.object({method:e7.literal("wallet_getAssets"),params:e7.any()}),rh=e7.object({token:e7.string()}),rm=e7.object({id:e7.string().optional()}),r_={appEvent:rm.extend({type:tt("APP_SWITCH_NETWORK"),payload:ta}).or(rm.extend({type:tt("APP_CONNECT_EMAIL"),payload:ts})).or(rm.extend({type:tt("APP_CONNECT_DEVICE")})).or(rm.extend({type:tt("APP_CONNECT_OTP"),payload:tn})).or(rm.extend({type:tt("APP_CONNECT_SOCIAL"),payload:ti})).or(rm.extend({type:tt("APP_GET_FARCASTER_URI")})).or(rm.extend({type:tt("APP_CONNECT_FARCASTER")})).or(rm.extend({type:tt("APP_GET_USER"),payload:e7.optional(to)})).or(rm.extend({type:tt("APP_GET_SOCIAL_REDIRECT_URI"),payload:tl})).or(rm.extend({type:tt("APP_SIGN_OUT")})).or(rm.extend({type:tt("APP_IS_CONNECTED"),payload:e7.optional(rh)})).or(rm.extend({type:tt("APP_GET_CHAIN_ID")})).or(rm.extend({type:tt("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(rm.extend({type:tt("APP_INIT_SMART_ACCOUNT")})).or(rm.extend({type:tt("APP_SET_PREFERRED_ACCOUNT"),payload:tm})).or(rm.extend({type:tt("APP_RPC_REQUEST"),payload:re.or(rp).or(tN).or(tI).or(tO).or(tk).or(tF).or(tL).or(tU).or(tj).or(tM).or(tZ).or(tD).or(tW).or(tK).or(t$).or(tV).or(tB).or(tH).or(tG).or(tY).or(tz).or(tq).or(tJ).or(tQ).or(tX).or(t0).or(t3).or(t1).or(t5).or(t2).or(t4).or(t9).or(t6).or(t8).or(t7).or(re).or(rt).or(rr).or(ra).or(rs).or(rn).or(ri).or(rl).or(ro).or(rd).or(rc).or(ru).and(e7.object({chainId:e7.string().or(e7.number()).optional(),chainNamespace:e7.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:e7.string().optional()}))})).or(rm.extend({type:tt("APP_UPDATE_EMAIL"),payload:td})).or(rm.extend({type:tt("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:tc})).or(rm.extend({type:tt("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:tu})).or(rm.extend({type:tt("APP_SYNC_THEME"),payload:tp})).or(rm.extend({type:tt("APP_SYNC_DAPP_DATA"),payload:th})).or(rm.extend({type:tt("APP_RELOAD")})).or(rm.extend({type:tt("APP_RPC_ABORT")})),frameEvent:rm.extend({type:tt("FRAME_SWITCH_NETWORK_ERROR"),payload:te}).or(rm.extend({type:tt("FRAME_SWITCH_NETWORK_SUCCESS"),payload:tR})).or(rm.extend({type:tt("FRAME_CONNECT_EMAIL_SUCCESS"),payload:t_})).or(rm.extend({type:tt("FRAME_CONNECT_EMAIL_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:tg})).or(rm.extend({type:tt("FRAME_GET_FARCASTER_URI_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:ty})).or(rm.extend({type:tt("FRAME_CONNECT_FARCASTER_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_CONNECT_OTP_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_CONNECT_OTP_SUCCESS")})).or(rm.extend({type:tt("FRAME_CONNECT_DEVICE_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_CONNECT_DEVICE_SUCCESS")})).or(rm.extend({type:tt("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:tf})).or(rm.extend({type:tt("FRAME_CONNECT_SOCIAL_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_GET_USER_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_GET_USER_SUCCESS"),payload:tE})).or(rm.extend({type:tt("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:tC})).or(rm.extend({type:tt("FRAME_SIGN_OUT_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_SIGN_OUT_SUCCESS")})).or(rm.extend({type:tt("FRAME_IS_CONNECTED_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_IS_CONNECTED_SUCCESS"),payload:tb})).or(rm.extend({type:tt("FRAME_GET_CHAIN_ID_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_GET_CHAIN_ID_SUCCESS"),payload:tA})).or(rm.extend({type:tt("FRAME_RPC_REQUEST_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_RPC_REQUEST_SUCCESS"),payload:tP})).or(rm.extend({type:tt("FRAME_SESSION_UPDATE"),payload:rh})).or(rm.extend({type:tt("FRAME_UPDATE_EMAIL_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_UPDATE_EMAIL_SUCCESS"),payload:tv})).or(rm.extend({type:tt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(rm.extend({type:tt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:tT})).or(rm.extend({type:tt("FRAME_SYNC_THEME_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_SYNC_THEME_SUCCESS")})).or(rm.extend({type:tt("FRAME_SYNC_DAPP_DATA_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(rm.extend({type:tt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:tw})).or(rm.extend({type:tt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:tx})).or(rm.extend({type:tt("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_READY"),payload:tS})).or(rm.extend({type:tt("FRAME_RELOAD_ERROR"),payload:te})).or(rm.extend({type:tt("FRAME_RELOAD_SUCCESS")}))};var rg=e.i(824652);function ry(e,t={}){return"string"==typeof t?.type&&t?.type?.includes(e)}class rf{constructor({projectId:e,isAppClient:t=!1,chainId:r="eip155:1",enableLogger:a=!0,enableCloudAuthAccount:s=!1,rpcUrl:n=c.ConstantsUtil.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{let e=document.getElementById("w3m-iframe");this.iframe&&!e&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(e,t,r)=>{function a({data:r}){if(!ry(u.W3mFrameConstants.FRAME_EVENT_KEY,r))return;let s=r_.frameEvent.safeParse(r);s.success?s.data?.id===e&&(t(s.data),window.removeEventListener("message",a)):console.warn("W3mFrame: invalid frame event",s.error.message)}p.W3mFrameHelpers.isClient&&(window.addEventListener("message",a),r.addEventListener("abort",()=>{window.removeEventListener("message",a)}))},onFrameEvent:e=>{p.W3mFrameHelpers.isClient&&window.addEventListener("message",({data:t})=>{if(!ry(u.W3mFrameConstants.FRAME_EVENT_KEY,t))return;let r=r_.frameEvent.safeParse(t);r.success?e(r.data):console.warn("W3mFrame: invalid frame event",r.error.message)})},onAppEvent:e=>{p.W3mFrameHelpers.isClient&&window.addEventListener("message",({data:t})=>{if(!ry(u.W3mFrameConstants.APP_EVENT_KEY,t))return;let r=r_.appEvent.safeParse(t);r.success||console.warn("W3mFrame: invalid app event",r.error.message),e(t)})},postAppEvent:e=>{if(p.W3mFrameHelpers.isClient){if(!this.iframe?.contentWindow)throw Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(e,"*")}},postFrameEvent:e=>{if(p.W3mFrameHelpers.isClient){if(!parent)throw Error("W3mFrame: parent is not set");parent.postMessage(e,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((e,t)=>{this.frameLoadPromiseResolver={resolve:e,reject:t}}),this.rpcUrl=n,t&&(this.frameLoadPromise=new Promise((e,t)=>{this.frameLoadPromiseResolver={resolve:e,reject:t}}),p.W3mFrameHelpers.isClient)){const t=document.createElement("iframe");t.id="w3m-iframe",t.src=function({projectId:e,chainId:t,enableLogger:r,rpcUrl:a=c.ConstantsUtil.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){let n=new URL(u.SECURE_SITE_SDK);n.searchParams.set("projectId",e),n.searchParams.set("chainId",String(t)),n.searchParams.set("version",u.SECURE_SITE_SDK_VERSION),n.searchParams.set("enableLogger",String(r)),n.searchParams.set("rpcUrl",a);let i=rg.W3mFrameStorage.get("dapp_smart_account_version");return i&&("v6"===i||"v7"===i)&&(console.warn(">> AppKit - Forcing smart account version",i),n.searchParams.set("smartAccountVersion",i)),s&&n.searchParams.set("enableCloudAuthAccount","true"),n.toString()}({projectId:e,chainId:r,enableLogger:a,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),t.name="w3m-secure-iframe",t.style.position="fixed",t.style.zIndex="999999",t.style.display="none",t.style.border="none",t.style.animationDelay="0s, 50ms",t.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",t.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=t,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(e=>{"@w3m-frame/READY"===e.type&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){return Object.assign({},...["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(e=>({[e]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${e}&projectId=${this.projectId}`,chainId:e}})))}}var rv=e.i(366350);class rE{constructor(e){const t=(0,rv.getDefaultLoggerOptions)({level:u.DEFAULT_LOG_LEVEL}),{logger:r,chunkLoggerController:a}=(0,rv.generatePlatformLogger)({opts:t});this.logger=(0,rv.generateChildLogger)(r,this.constructor.name),this.chunkLoggerController=a,"u">typeof window&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class rC{constructor({projectId:e,chainId:t,enableLogger:r=!0,onTimeout:a,abortController:s,getActiveCaipNetwork:n,getCaipNetworks:i,enableCloudAuthAccount:o,metadata:l,sdkVersion:d,sdkType:c}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new rE(e)),this.abortController=s,this.getActiveCaipNetwork=n,this.getCaipNetworks=i;const u=this.getRpcUrl(t);this.projectId=e,this.sdkVersion=d,this.sdkType=c,this.metadata=l,this.w3mFrame=new rf({projectId:e,isAppClient:!0,chainId:t,enableLogger:r,rpcUrl:u,enableCloudAuthAccount:o}),this.onTimeout=a,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(t=>{t.type===u.W3mFrameConstants.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise)return void await this.initPromise;await this.createFrame()}}getLoginEmailUsed(){return!!rg.W3mFrameStorage.get(u.W3mFrameConstants.EMAIL_LOGIN_USED_KEY)}getEmail(){return rg.W3mFrameStorage.get(u.W3mFrameConstants.EMAIL)}getUsername(){return rg.W3mFrameStorage.get(u.W3mFrameConstants.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:u.W3mFrameConstants.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{p.W3mFrameHelpers.checkIfAllowedToTriggerEmail(),await this.init();let t=await this.appEvent({type:u.W3mFrameConstants.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting email"),e}}async connectDevice(){try{return this.appEvent({type:u.W3mFrameConstants.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:u.W3mFrameConstants.APP_CONNECT_OTP,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting otp"),e}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};let e=await this.appEvent({type:u.W3mFrameConstants.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{let e=await this.appEvent({type:u.W3mFrameConstants.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:u.W3mFrameConstants.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting social redirect uri"),e}}async updateEmail(e){try{let t=await this.appEvent({type:u.W3mFrameConstants.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email"),e}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:u.W3mFrameConstants.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email primary otp"),e}}async updateEmailSecondaryOtp(e){try{let t=await this.appEvent({type:u.W3mFrameConstants.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(t.newEmail),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email secondary otp"),e}}async syncTheme(e){try{return this.appEvent({type:u.W3mFrameConstants.APP_SYNC_THEME,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error syncing theme"),e}}async syncDappData(e){try{return this.appEvent({type:u.W3mFrameConstants.APP_SYNC_DAPP_DATA,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error syncing dapp data"),e}}async getSmartAccountEnabledNetworks(){try{let e=await this.appEvent({type:u.W3mFrameConstants.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:u.W3mFrameConstants.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error setting preferred account"),e}}async connect(e){if(e?.socialUri)try{await this.init();let t=this.getRpcUrl(e.chainId),r=await this.appEvent({type:u.W3mFrameConstants.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:t}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting social"),e}try{let t=e?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:t,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(t)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting"),e}}async getUser(e){try{await this.init();let t=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:u.W3mFrameConstants.APP_GET_USER,payload:{...e,chainId:t,rpcUrl:this.getRpcUrl(t)}});return this.user=r,r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting"),e}}async connectSocial({uri:e,chainId:t,preferredAccountType:r}){try{await this.init();let a=this.getRpcUrl(t),s=await this.appEvent({type:u.W3mFrameConstants.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:t,rpcUrl:a,preferredAccountType:r}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting social"),e}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:u.W3mFrameConstants.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{let e=await this.appEvent({type:u.W3mFrameConstants.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{let t=this.getRpcUrl(e),r=await this.appEvent({type:u.W3mFrameConstants.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:t}});return this.setLastUsedChainId(r.chainId),r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error switching network"),e}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async e=>{let t=setTimeout(()=>{e()},3e3);await this.appEvent({type:u.W3mFrameConstants.APP_SIGN_OUT}),clearTimeout(t),e()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){try{if(u.W3mFrameRpcConstants.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();let t=e.chainNamespace||"eip155",r=this.getActiveCaipNetwork(t)?.id;e.chainNamespace=t,e.chainId=r,e.rpcUrl=this.getRpcUrl(r),this.rpcRequestHandler?.(e);let a=await this.appEvent({type:u.W3mFrameConstants.APP_RPC_REQUEST,payload:e});return this.rpcSuccessHandler?.(a,e),a}catch(t){throw this.rpcErrorHandler?.(t,e),this.w3mLogger?.logger.error({error:t},"Error requesting"),t}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===u.W3mFrameConstants.FRAME_IS_CONNECTED_SUCCESS&&t.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===u.W3mFrameConstants.FRAME_IS_CONNECTED_ERROR&&e(),t.type!==u.W3mFrameConstants.FRAME_IS_CONNECTED_SUCCESS||t.payload.isConnected||e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===u.W3mFrameConstants.FRAME_GET_USER_SUCCESS&&e(t.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===u.W3mFrameConstants.FRAME_CONNECT_SOCIAL_SUCCESS&&e(t.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===u.W3mFrameConstants.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(t.payload):t.type===u.W3mFrameConstants.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:u.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:t})=>{u.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(t)||e.abort(),await this.appEvent({type:u.W3mFrameConstants.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let t,r;function a(e){return e.replace("@w3m-app/","")}let s=[u.W3mFrameConstants.APP_SYNC_DAPP_DATA,u.W3mFrameConstants.APP_SYNC_THEME,u.W3mFrameConstants.APP_SET_PREFERRED_ACCOUNT],n=a(e.type);return this.w3mFrame.iframeIsReady||s.includes(e.type)||(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[u.W3mFrameConstants.APP_CONNECT_EMAIL,u.W3mFrameConstants.APP_CONNECT_DEVICE,u.W3mFrameConstants.APP_CONNECT_OTP,u.W3mFrameConstants.APP_CONNECT_SOCIAL,u.W3mFrameConstants.APP_GET_SOCIAL_REDIRECT_URI].map(a).includes(n)&&(t=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((a,s)=>{let i=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:i},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:i});let o=new AbortController;"RPC_REQUEST"===n&&this.openRpcRequests.set(i,{...e.payload,abortController:o}),o.signal.addEventListener("abort",()=>{"RPC_REQUEST"===n?s(Error("Request was aborted")):"GET_FARCASTER_URI"!==n&&s(Error("Something went wrong"))});let l=(e,o)=>{e.id===i&&(o?.logger.info?.({framEvent:e,id:i},"Received frame response"),this.openRpcRequests.delete(e.id),e.type===`@w3m-frame/${n}_SUCCESS`?(t&&clearTimeout(t),r&&clearTimeout(r),"payload"in e&&a(e.payload),a(void 0)):e.type===`@w3m-frame/${n}_ERROR`&&(t&&clearTimeout(t),r&&clearTimeout(r),"payload"in e&&s(Error(e.payload?.message||"An error occurred")),s(Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(i,e=>l(e,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){rg.W3mFrameStorage.set(u.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){rg.W3mFrameStorage.set(u.W3mFrameConstants.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&rg.W3mFrameStorage.set(u.W3mFrameConstants.EMAIL,e),rg.W3mFrameStorage.set(u.W3mFrameConstants.EMAIL_LOGIN_USED_KEY,"true"),rg.W3mFrameStorage.delete(u.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){rg.W3mFrameStorage.delete(u.W3mFrameConstants.EMAIL_LOGIN_USED_KEY),rg.W3mFrameStorage.delete(u.W3mFrameConstants.EMAIL),rg.W3mFrameStorage.delete(u.W3mFrameConstants.LAST_USED_CHAIN_KEY),rg.W3mFrameStorage.delete(u.W3mFrameConstants.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&rg.W3mFrameStorage.set(u.W3mFrameConstants.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){let e=rg.W3mFrameStorage.get(u.W3mFrameConstants.LAST_USED_CHAIN_KEY)??void 0,t=Number(e);return isNaN(t)?e:t}persistSmartAccountEnabledNetworks(e){rg.W3mFrameStorage.set(u.W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let t=void 0===e?void 0:"eip155";"string"==typeof e&&(t=e.includes(":")?d.ParseUtil.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?"eip155":"solana");let r=this.getCaipNetworks(t),a=e?r.find(t=>String(t.id)===String(e)||t.caipNetworkId===e):r[0];return a?.rpcUrls.default.http?.[0]}}e.s(["W3mFrameProvider",()=>rC],542991)},328182,496969,655934,e=>{"use strict";var t=e.i(365801),r=e.i(401564),a=e.i(960398),s=e.i(149454),n=e.i(653157),i=e.i(221728),o=e.i(811424),l=e.i(227302),d=e.i(758331);async function c(){i.RouterController.push("ConnectingFarcaster");let e=s.ConnectorController.getAuthConnector();if(e){let t=a.ChainController.getAccountData();if(!t?.farcasterUrl)try{let{url:t}=await e.provider.getFarcasterUri();a.ChainController.setAccountProp("farcasterUrl",t,a.ChainController.state.activeChain)}catch(e){i.RouterController.goBack(),o.SnackController.showError(e)}}}async function u(e){i.RouterController.push("ConnectingSocial");let c=s.ConnectorController.getAuthConnector(),u=null;try{let s=setTimeout(()=>{throw Error("Social login timed out. Please try again.")},45e3);if(c&&e){if(l.CoreHelperUtil.isTelegram()||(u=function(){try{return l.CoreHelperUtil.returnOpenHref(`${r.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes")}catch(e){throw Error("Could not open social popup")}}()),u)a.ChainController.setAccountProp("socialWindow",(0,t.ref)(u),a.ChainController.state.activeChain);else if(!l.CoreHelperUtil.isTelegram())throw Error("Could not create social popup");let{uri:n}=await c.provider.getSocialRedirectUri({provider:e});if(!n)throw u?.close(),Error("Could not fetch the social redirect uri");if(u&&(u.location.href=n),l.CoreHelperUtil.isTelegram()){d.StorageUtil.setTelegramSocialProvider(e);let t=l.CoreHelperUtil.formatTelegramSocialLoginUrl(n);l.CoreHelperUtil.openHref(t,"_top")}clearTimeout(s)}}catch(r){u?.close();let t=l.CoreHelperUtil.parseError(r);o.SnackController.showError(t),n.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:t}})}}async function p(e){a.ChainController.setAccountProp("socialProvider",e,a.ChainController.state.activeChain),n.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),"farcaster"===e?await c():await u(e)}e.s(["executeSocialLogin",()=>p],328182),e.i(145967);var h=e.i(604148),m=e.i(654479);e.i(582768);var _=e.i(120119);e.i(728547);var g=e.i(829389);e.i(839009);var y=e.i(459088),f=e.i(645975),v=h;e.i(852634);var E=e.i(162611);let C=E.css`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:e})=>e["20"]};
    overflow: hidden;
  }

  wui-icon {
    width: 100%;
    height: 100%;
  }
`;var b=function(e,t,r,a){var s,n=arguments.length,i=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(n<3?s(i):n>3?s(t,r,i):s(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i};let A=class extends v.LitElement{constructor(){super(...arguments),this.logo="google"}render(){return m.html`<wui-icon color="inherit" size="inherit" name=${this.logo}></wui-icon> `}};A.styles=[y.resetStyles,C],b([(0,_.property)()],A.prototype,"logo",void 0),A=b([(0,f.customElement)("wui-logo")],A),e.s([],496969);let R=E.css`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  wui-text {
    text-transform: capitalize;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var T=function(e,t,r,a){var s,n=arguments.length,i=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(n<3?s(i):n>3?s(t,r,i):s(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i};let w=class extends h.LitElement{constructor(){super(...arguments),this.logo="google",this.name="Continue with google",this.disabled=!1}render(){return m.html`
      <button ?disabled=${this.disabled} tabindex=${(0,g.ifDefined)(this.tabIdx)}>
        <wui-flex gap="2" alignItems="center">
          <wui-image ?boxed=${!0} logo=${this.logo}></wui-image>
          <wui-text variant="lg-regular" color="primary">${this.name}</wui-text>
        </wui-flex>
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}};w.styles=[y.resetStyles,y.elementStyles,R],T([(0,_.property)()],w.prototype,"logo",void 0),T([(0,_.property)()],w.prototype,"name",void 0),T([(0,_.property)()],w.prototype,"tabIdx",void 0),T([(0,_.property)({type:Boolean})],w.prototype,"disabled",void 0),w=T([(0,f.customElement)("wui-list-social")],w),e.s([],655934)}]);